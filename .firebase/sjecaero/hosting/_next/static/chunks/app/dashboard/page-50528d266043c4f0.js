(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{285:(e,s,t)=>{"use strict";t.d(s,{$:()=>c,r:()=>d});var r=t(5155),a=t(2115),l=t(4253),n=t(2085),i=t(9434);let d=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=a.forwardRef((e,s)=>{let{className:t,variant:a,size:n,asChild:c=!1,...o}=e,m=c?l.DX:"button";return(0,r.jsx)(m,{className:(0,i.cn)(d({variant:a,size:n,className:t})),ref:s,...o})});c.displayName="Button"},2523:(e,s,t)=>{"use strict";t.d(s,{p:()=>n});var r=t(5155),a=t(2115),l=t(9434);let n=a.forwardRef((e,s)=>{let{className:t,type:a,...n}=e;return(0,r.jsx)("input",{type:a,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-transparent px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:s,...n})});n.displayName="Input"},4165:(e,s,t)=>{"use strict";t.d(s,{Cf:()=>u,Es:()=>x,L3:()=>j,c7:()=>h,lG:()=>d,rr:()=>p,zM:()=>c});var r=t(5155),a=t(2115),l=t(5821),n=t(5318),i=t(9434);let d=l.bL,c=l.l9,o=l.ZL;l.bm;let m=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)(l.hJ,{ref:s,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...a})});m.displayName=l.hJ.displayName;let u=a.forwardRef((e,s)=>{let{className:t,children:a,...d}=e;return(0,r.jsxs)(o,{children:[(0,r.jsx)(m,{}),(0,r.jsxs)(l.UC,{ref:s,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...d,children:[a,(0,r.jsxs)(l.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,r.jsx)(n.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});u.displayName=l.UC.displayName;let h=e=>{let{className:s,...t}=e;return(0,r.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",s),...t})};h.displayName="DialogHeader";let x=e=>{let{className:s,...t}=e;return(0,r.jsx)("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...t})};x.displayName="DialogFooter";let j=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)(l.hE,{ref:s,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",t),...a})});j.displayName=l.hE.displayName;let p=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)(l.VY,{ref:s,className:(0,i.cn)("text-sm text-muted-foreground",t),...a})});p.displayName=l.VY.displayName},5057:(e,s,t)=>{"use strict";t.d(s,{J:()=>c});var r=t(5155),a=t(2115),l=t(968),n=t(2085),i=t(9434);let d=(0,n.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)(l.b,{ref:s,className:(0,i.cn)(d(),t),...a})});c.displayName=l.b.displayName},5198:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>e4});var r=t(5155),a=t(2115),l=t(5695),n=t(9576),i=t(6695),d=t(8856),c=t(704),o=t(9434);let m=c.bL,u=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)(c.B8,{ref:s,className:(0,o.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...a})});u.displayName=c.B8.displayName;let h=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)(c.l9,{ref:s,className:(0,o.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...a})});h.displayName=c.l9.displayName;let x=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)(c.UC,{ref:s,className:(0,o.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...a})});x.displayName=c.UC.displayName;var j=t(285),p=t(4165),f=t(2523),g=t(5057),v=t(7481),N=t(3004),b=t(2177),y=t(221),w=t(5594),C=t(6104),A=t(5317),S=t(1427),R=t(7759),E=t(8539);let k=w.Ik({title:w.Yj().min(5,{message:"Title must be at least 5 characters."}),content:w.Yj().min(10,{message:"Content must be at least 10 characters."})});function I(){let{toast:e}=(0,v.dj)(),[s,t]=(0,a.useState)(!1),l=(0,b.mN)({resolver:(0,y.u)(k),defaultValues:{title:"",content:""}});async function n(s){t(!0);try{await (0,A.gS)((0,A.rJ)(C.db,"announcements"),{title:s.title,content:s.content,type:"club-only",createdAt:(0,A.O5)()});let t=(0,S.Uz)(),r=(0,S.Qg)(t,"sendAnnouncementEmail");await r({title:s.title,content:s.content}),e({title:"Success!",description:"Your announcement has been posted and sent to all members."}),l.reset()}catch(s){console.error("Error posting announcement:",s),e({title:"Error",description:s.message,variant:"destructive"})}finally{t(!1)}}return(0,r.jsxs)(i.Zp,{children:[(0,r.jsxs)(i.aR,{children:[(0,r.jsx)(i.ZB,{children:"Create Club Announcement"}),(0,r.jsx)(i.BT,{children:"This will be posted in the members' portal and an email will be sent to all registered club members."})]}),(0,r.jsx)(i.Wu,{children:(0,r.jsx)(R.lV,{...l,children:(0,r.jsxs)("form",{onSubmit:l.handleSubmit(n),className:"space-y-6",children:[(0,r.jsx)(R.zB,{control:l.control,name:"title",render:e=>{let{field:s}=e;return(0,r.jsxs)(R.eI,{children:[(0,r.jsx)(R.lR,{children:"Title"}),(0,r.jsx)(R.MJ,{children:(0,r.jsx)(f.p,{...s})}),(0,r.jsx)(R.C5,{})]})}}),(0,r.jsx)(R.zB,{control:l.control,name:"content",render:e=>{let{field:s}=e;return(0,r.jsxs)(R.eI,{children:[(0,r.jsx)(R.lR,{children:"Content"}),(0,r.jsx)(R.MJ,{children:(0,r.jsx)(E.T,{...s,rows:5})}),(0,r.jsx)(R.C5,{})]})}}),(0,r.jsx)(j.$,{type:"submit",disabled:s,children:s?"Posting...":"Post Announcement"})]})})})]})}var T=t(3561),B=t(5943),D=t(7223),F=t(8184);let M=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{className:"relative w-full overflow-auto",children:(0,r.jsx)("table",{ref:s,className:(0,o.cn)("w-full caption-bottom text-sm",t),...a})})});M.displayName="Table";let J=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("thead",{ref:s,className:(0,o.cn)("[&_tr]:border-b",t),...a})});J.displayName="TableHeader";let P=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("tbody",{ref:s,className:(0,o.cn)("[&_tr:last-child]:border-0",t),...a})});P.displayName="TableBody",a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("tfoot",{ref:s,className:(0,o.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...a})}).displayName="TableFooter";let z=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("tr",{ref:s,className:(0,o.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...a})});z.displayName="TableRow";let U=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("th",{ref:s,className:(0,o.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...a})});U.displayName="TableHead";let Z=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("td",{ref:s,className:(0,o.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...a})});Z.displayName="TableCell",a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("caption",{ref:s,className:(0,o.cn)("mt-4 text-sm text-muted-foreground",t),...a})}).displayName="TableCaption";var L=t(6215),O=t(3158),q=t(518),V=t(154);let G=L.bL,_=L.l9;L.YJ,L.ZL,L.Pb,L.z6,a.forwardRef((e,s)=>{let{className:t,inset:a,children:l,...n}=e;return(0,r.jsxs)(L.ZP,{ref:s,className:(0,o.cn)("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",a&&"pl-8",t),...n,children:[l,(0,r.jsx)(O.A,{className:"ml-auto"})]})}).displayName=L.ZP.displayName,a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)(L.G5,{ref:s,className:(0,o.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...a})}).displayName=L.G5.displayName;let Y=a.forwardRef((e,s)=>{let{className:t,sideOffset:a=4,...l}=e;return(0,r.jsx)(L.ZL,{children:(0,r.jsx)(L.UC,{ref:s,sideOffset:a,className:(0,o.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...l})})});Y.displayName=L.UC.displayName;let W=a.forwardRef((e,s)=>{let{className:t,inset:a,...l}=e;return(0,r.jsx)(L.q7,{ref:s,className:(0,o.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",a&&"pl-8",t),...l})});W.displayName=L.q7.displayName,a.forwardRef((e,s)=>{let{className:t,children:a,checked:l,...n}=e;return(0,r.jsxs)(L.H_,{ref:s,className:(0,o.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:l,...n,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(L.VF,{children:(0,r.jsx)(q.A,{className:"h-4 w-4"})})}),a]})}).displayName=L.H_.displayName,a.forwardRef((e,s)=>{let{className:t,children:a,...l}=e;return(0,r.jsxs)(L.hN,{ref:s,className:(0,o.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...l,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(L.VF,{children:(0,r.jsx)(V.A,{className:"h-2 w-2 fill-current"})})}),a]})}).displayName=L.hN.displayName,a.forwardRef((e,s)=>{let{className:t,inset:a,...l}=e;return(0,r.jsx)(L.JU,{ref:s,className:(0,o.cn)("px-2 py-1.5 text-sm font-semibold",a&&"pl-8",t),...l})}).displayName=L.JU.displayName;let $=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)(L.wv,{ref:s,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",t),...a})});$.displayName=L.wv.displayName;var H=t(2278);let K=H.bL,Q=H.l9,X=H.ZL,ee=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)(H.hJ,{className:(0,o.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...a,ref:s})});ee.displayName=H.hJ.displayName;let es=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsxs)(X,{children:[(0,r.jsx)(ee,{}),(0,r.jsx)(H.UC,{ref:s,className:(0,o.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...a})]})});es.displayName=H.UC.displayName;let et=e=>{let{className:s,...t}=e;return(0,r.jsx)("div",{className:(0,o.cn)("flex flex-col space-y-2 text-center sm:text-left",s),...t})};et.displayName="AlertDialogHeader";let er=e=>{let{className:s,...t}=e;return(0,r.jsx)("div",{className:(0,o.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...t})};er.displayName="AlertDialogFooter";let ea=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)(H.hE,{ref:s,className:(0,o.cn)("text-lg font-semibold",t),...a})});ea.displayName=H.hE.displayName;let el=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)(H.VY,{ref:s,className:(0,o.cn)("text-sm text-muted-foreground",t),...a})});el.displayName=H.VY.displayName;let en=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)(H.rc,{ref:s,className:(0,o.cn)((0,j.r)(),t),...a})});en.displayName=H.rc.displayName;let ei=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)(H.ZD,{ref:s,className:(0,o.cn)((0,j.r)({variant:"outline"}),"mt-2 sm:mt-0",t),...a})});function ed(){let[e,s]=a.useState([]),[t,l]=a.useState(!0),[n,c]=a.useState(!1),[o,m]=a.useState(null),[u,h]=a.useState(!1),[x,v]=a.useState(null),[N,b]=a.useState({title:"",content:""}),[y,w]=a.useState(!1);a.useEffect(()=>{(async()=>{try{let e=(0,A.P)((0,A.rJ)(C.db,"announcements"),(0,A.My)("createdAt","desc")),t=(await (0,A.GG)(e)).docs.map(e=>({id:e.id,...e.data()}));s(t)}catch(e){console.error("Error fetching announcements:",e)}finally{l(!1)}})()},[]);let S=async()=>{if(o)try{await (0,A.kd)((0,A.H9)(C.db,"announcements",o.id)),s(e=>e.filter(e=>e.id!==o.id))}catch(e){console.error("Error deleting announcement:",e)}finally{m(null),c(!1)}},R=e=>{let{name:s,value:t}=e.target;b(e=>({...e,[s]:t}))},k=async e=>{if(e.preventDefault(),!x)return;w(!0);let t=(0,A.H9)(C.db,"announcements",x.id);try{await (0,A.mZ)(t,{...N}),s(e=>e.map(e=>e.id===x.id?{...e,...N}:e)),h(!1),v(null)}catch(e){console.error("Error updating document: ",e)}finally{w(!1)}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(i.Zp,{children:[(0,r.jsxs)(i.aR,{children:[(0,r.jsx)(i.ZB,{children:"Posted Announcements"}),(0,r.jsx)(i.BT,{children:"View, edit, or delete past announcements."})]}),(0,r.jsx)(i.Wu,{children:t?(0,r.jsx)("div",{className:"space-y-2",children:(0,r.jsx)(d.E,{className:"h-12 w-full"})}):(0,r.jsxs)(M,{children:[(0,r.jsx)(J,{children:(0,r.jsxs)(z,{children:[(0,r.jsx)(U,{children:"Title"}),(0,r.jsx)(U,{children:"Content"}),(0,r.jsx)(U,{children:"Date"}),(0,r.jsx)(U,{className:"text-right",children:"Actions"})]})}),(0,r.jsx)(P,{children:e.length>0?e.map(e=>(0,r.jsxs)(z,{children:[(0,r.jsx)(Z,{className:"font-medium",children:e.title}),(0,r.jsx)(Z,{className:"text-sm text-muted-foreground max-w-sm truncate",children:e.content}),(0,r.jsx)(Z,{children:e.createdAt?(0,F.GP)(new Date(1e3*e.createdAt.seconds),"PPP"):"-"}),(0,r.jsx)(Z,{className:"text-right",children:(0,r.jsxs)(G,{children:[(0,r.jsx)(_,{asChild:!0,children:(0,r.jsxs)(j.$,{variant:"ghost",className:"h-8 w-8 p-0",children:[(0,r.jsx)("span",{className:"sr-only",children:"Open menu"}),(0,r.jsx)(T.A,{className:"h-4 w-4"})]})}),(0,r.jsxs)(Y,{align:"end",children:[(0,r.jsxs)(W,{onClick:()=>{v(e),b({title:e.title,content:e.content}),h(!0)},children:[(0,r.jsx)(B.A,{className:"mr-2 h-4 w-4"}),(0,r.jsx)("span",{children:"Edit"})]}),(0,r.jsxs)(W,{onClick:()=>{m(e),c(!0)},className:"text-red-600 focus:text-red-500",children:[(0,r.jsx)(D.A,{className:"mr-2 h-4 w-4"}),(0,r.jsx)("span",{children:"Delete"})]})]})]})})]},e.id)):(0,r.jsx)(z,{children:(0,r.jsx)(Z,{colSpan:4,className:"h-24 text-center",children:"No announcements found."})})})]})})]}),(0,r.jsx)(K,{open:n,onOpenChange:c,children:(0,r.jsxs)(es,{children:[(0,r.jsxs)(et,{children:[(0,r.jsx)(ea,{children:"Are you absolutely sure?"}),(0,r.jsxs)(el,{children:['This will permanently delete the announcement titled "',(0,r.jsx)("b",{children:null==o?void 0:o.title}),'". This action cannot be undone.']})]}),(0,r.jsxs)(er,{children:[(0,r.jsx)(ei,{onClick:()=>m(null),children:"Cancel"}),(0,r.jsx)(en,{onClick:S,className:"bg-red-600 hover:bg-red-700",children:"Continue"})]})]})}),(0,r.jsx)(p.lG,{open:u,onOpenChange:h,children:(0,r.jsxs)(p.Cf,{className:"sm:max-w-[425px]",children:[(0,r.jsxs)(p.c7,{children:[(0,r.jsx)(p.L3,{children:"Edit Announcement"}),(0,r.jsx)(p.rr,{children:"Make changes to your announcement here. Click save when you're done."})]}),(0,r.jsx)("form",{id:"edit-announcement-form",onSubmit:k,children:(0,r.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,r.jsx)(g.J,{htmlFor:"title",className:"text-right",children:"Title"}),(0,r.jsx)(f.p,{id:"title",name:"title",value:N.title,onChange:R,className:"col-span-3",required:!0})]}),(0,r.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,r.jsx)(g.J,{htmlFor:"content",className:"text-right",children:"Content"}),(0,r.jsx)(E.T,{id:"content",name:"content",value:N.content,onChange:R,className:"col-span-3",rows:5,required:!0})]})]})}),(0,r.jsx)(p.Es,{children:(0,r.jsx)(j.$,{type:"submit",form:"edit-announcement-form",disabled:y,children:y?"Saving...":"Save Changes"})})]})})]})}ei.displayName=H.ZD.displayName;var ec=t(1031),eo=t(9556),em=t(7381);let eu=ec.bL;ec.YJ;let eh=ec.WT,ex=a.forwardRef((e,s)=>{let{className:t,children:a,...l}=e;return(0,r.jsxs)(ec.l9,{ref:s,className:(0,o.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...l,children:[a,(0,r.jsx)(ec.In,{asChild:!0,children:(0,r.jsx)(eo.A,{className:"h-4 w-4 opacity-50"})})]})});ex.displayName=ec.l9.displayName;let ej=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)(ec.PP,{ref:s,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",t),...a,children:(0,r.jsx)(em.A,{className:"h-4 w-4"})})});ej.displayName=ec.PP.displayName;let ep=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)(ec.wn,{ref:s,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",t),...a,children:(0,r.jsx)(eo.A,{className:"h-4 w-4"})})});ep.displayName=ec.wn.displayName;let ef=a.forwardRef((e,s)=>{let{className:t,children:a,position:l="popper",...n}=e;return(0,r.jsx)(ec.ZL,{children:(0,r.jsxs)(ec.UC,{ref:s,className:(0,o.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:l,...n,children:[(0,r.jsx)(ej,{}),(0,r.jsx)(ec.LM,{className:(0,o.cn)("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),(0,r.jsx)(ep,{})]})})});ef.displayName=ec.UC.displayName,a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)(ec.JU,{ref:s,className:(0,o.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...a})}).displayName=ec.JU.displayName;let eg=a.forwardRef((e,s)=>{let{className:t,children:a,...l}=e;return(0,r.jsxs)(ec.q7,{ref:s,className:(0,o.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...l,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(ec.VF,{children:(0,r.jsx)(q.A,{className:"h-4 w-4"})})}),(0,r.jsx)(ec.p4,{children:a})]})});eg.displayName=ec.q7.displayName,a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)(ec.wv,{ref:s,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",t),...a})}).displayName=ec.wv.displayName;var ev=t(858),eN=t(5863);let eb=a.forwardRef((e,s)=>{let{className:t,value:a,...l}=e;return(0,r.jsx)(eN.bL,{ref:s,className:(0,o.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...l,children:(0,r.jsx)(eN.C1,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(a||0),"%)")}})})});eb.displayName=eN.bL.displayName;let ey=w.Ik({name:w.Yj().min(1,{message:"Full name is required."}),email:w.Yj().email(),role:w.Yj().min(1,{message:"Role is required."}),status:w.k5(["core","member","alumni"]),id:w.au.number().min(1,{message:"A unique sort ID is required."}),avatarFile:w.Ie(e=>e instanceof File,"An image file is required."),LinkedIn:w.Yj().url().optional().or(w.eu(""))});function ew(e){let{onMemberAdded:s}=e,{toast:t}=(0,v.dj)(),[l,n]=(0,a.useState)(!1),[i,d]=(0,a.useState)(0),c=(0,b.mN)({resolver:(0,y.u)(ey),defaultValues:{name:"",email:"",role:"",status:"member",id:0,LinkedIn:"",avatarFile:void 0}});async function o(e){n(!0),d(0);try{let r=(0,ev.c7)(),a=(0,ev.KR)(r,"team_avatars/".concat(Date.now(),"_").concat(e.avatarFile.name)),l=await (0,ev.D)(a,e.avatarFile);d(100);let n=await (0,ev.qk)(l.ref);await (0,A.BN)((0,A.H9)(C.db,"team",e.email),{name:e.name,email:e.email,role:e.role,status:e.status,id:e.id,avatarUrl:n,LinkedIn:e.LinkedIn,aiHint:"A photo of ".concat(e.name,", who is a ").concat(e.role,".")}),"alumni"!==e.status?(await (0,A.BN)((0,A.H9)(C.db,"members",e.email),{email:e.email,name:e.name,registered:!1}),t({title:"Member Added Successfully!",description:"".concat(e.name," has been added to the team and can now register.")})):t({title:"Alumni Added Successfully!",description:"".concat(e.name," has been added to the team roster as an alumnus.")}),c.reset(),s()}catch(e){console.error("Error adding new member:",e),t({title:"Error",description:"Could not add the new member.",variant:"destructive"})}finally{n(!1),d(0)}}return(0,r.jsx)(R.lV,{...c,children:(0,r.jsxs)("form",{onSubmit:c.handleSubmit(o),className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsx)(R.zB,{control:c.control,name:"name",render:e=>{let{field:s}=e;return(0,r.jsxs)(R.eI,{children:[(0,r.jsx)(R.lR,{children:"Full Name"}),(0,r.jsx)(R.MJ,{children:(0,r.jsx)(f.p,{placeholder:"John Doe",...s})}),(0,r.jsx)(R.C5,{})]})}}),(0,r.jsx)(R.zB,{control:c.control,name:"email",render:e=>{let{field:s}=e;return(0,r.jsxs)(R.eI,{children:[(0,r.jsx)(R.lR,{children:"Email Address"}),(0,r.jsx)(R.MJ,{children:(0,r.jsx)(f.p,{placeholder:"member@sjec.ac.in",...s})}),(0,r.jsx)(R.C5,{})]})}})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsx)(R.zB,{control:c.control,name:"role",render:e=>{let{field:s}=e;return(0,r.jsxs)(R.eI,{children:[(0,r.jsx)(R.lR,{children:"Role / Position"}),(0,r.jsx)(R.MJ,{children:(0,r.jsx)(f.p,{placeholder:"Team Member",...s})}),(0,r.jsx)(R.C5,{})]})}}),(0,r.jsx)(R.zB,{control:c.control,name:"status",render:e=>{let{field:s}=e;return(0,r.jsxs)(R.eI,{children:[(0,r.jsx)(R.lR,{children:"Status"}),(0,r.jsxs)(eu,{onValueChange:s.onChange,defaultValue:s.value,children:[(0,r.jsx)(R.MJ,{children:(0,r.jsx)(ex,{children:(0,r.jsx)(eh,{})})}),(0,r.jsxs)(ef,{children:[(0,r.jsx)(eg,{value:"core",children:"Core Member"}),(0,r.jsx)(eg,{value:"member",children:"Current Member"}),(0,r.jsx)(eg,{value:"alumni",children:"Alumni"})]})]}),(0,r.jsx)(R.C5,{})]})}})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsx)(R.zB,{control:c.control,name:"id",render:e=>{let{field:s}=e;return(0,r.jsxs)(R.eI,{children:[(0,r.jsx)(R.lR,{children:"Sort ID (Serial Number)"}),(0,r.jsx)(R.MJ,{children:(0,r.jsx)(f.p,{type:"number",...s})}),(0,r.jsx)(R.C5,{})]})}}),(0,r.jsx)(R.zB,{control:c.control,name:"avatarFile",render:e=>{let{field:s}=e;return(0,r.jsxs)(R.eI,{children:[(0,r.jsx)(R.lR,{children:"Member Photo"}),(0,r.jsx)(R.MJ,{children:(0,r.jsx)(f.p,{type:"file",accept:"image/png, image/jpeg, image/webp",onChange:e=>{s.onChange(e.target.files?e.target.files[0]:void 0)}})}),(0,r.jsx)(R.C5,{})]})}})]}),(0,r.jsx)(R.zB,{control:c.control,name:"LinkedIn",render:e=>{let{field:s}=e;return(0,r.jsxs)(R.eI,{children:[(0,r.jsx)(R.lR,{children:"LinkedIn URL (Optional)"}),(0,r.jsx)(R.MJ,{children:(0,r.jsx)(f.p,{placeholder:"https://linkedin.com/in/...",...s})}),(0,r.jsx)(R.C5,{})]})}}),l&&(0,r.jsx)(eb,{value:i,className:"w-full"}),(0,r.jsx)(j.$,{type:"submit",disabled:l,children:l?"Adding...":"Add New Team Member"})]})})}var eC=t(6126);function eA(){let{toast:e}=(0,v.dj)(),[s,t]=a.useState([]),[l,n]=a.useState(""),[c,o]=a.useState(!0),m="https://us-central1-sjecaero.cloudfunctions.net/removeUserHTTP",u=a.useCallback(async()=>{o(!0);try{let e=(await (0,A.GG)((0,A.rJ)(C.db,"members"))).docs.map(e=>({...e.data(),email:e.id})),s=(await (0,A.GG)((0,A.rJ)(C.db,"users"))).docs.map(e=>e.data()),r=e.map(e=>{let t=s.find(s=>s.email===e.email);return t?{...t,registered:!0}:{email:e.email,fullName:e.name,role:"unregistered",registered:!1}}).sort((e,s)=>e.fullName.localeCompare(s.fullName));t(r)}catch(s){console.error("Error fetching members:",s),e({title:"Error",description:"Could not fetch the member list.",variant:"destructive"})}finally{o(!1)}},[e]);a.useEffect(()=>{u()},[u]);let h=async(s,t)=>{try{await (0,A.mZ)((0,A.H9)(C.db,"users",s),{role:t}),e({title:"Role Updated",description:"User role has been changed to ".concat(t,".")}),u()}catch(s){e({title:"Error",description:"Could not update role.",variant:"destructive"})}},x=async(s,t)=>{if(!l.trim())return void e({title:"Reason required",description:"Please provide a reason.",variant:"destructive"});if(!m)return void e({title:"Configuration Error",description:"The remove user function URL is not set.",variant:"destructive"});o(!0);try{let r=(0,N.xI)().currentUser;if(!r)throw Error("You must be logged in.");let a=await r.getIdToken(),i=await fetch(m,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},body:JSON.stringify({uidToRemove:s,emailToRemove:t,reason:l})}),d=await i.json();if(!i.ok)throw Error(d.message||"Removal failed.");e({title:"Success",description:d.message}),u(),n("")}catch(s){console.error("Cloud function error:",s),e({title:"Removal Failed",description:s.message,variant:"destructive"})}finally{o(!1)}};return(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsxs)(i.Zp,{children:[(0,r.jsxs)(i.aR,{children:[(0,r.jsx)(i.ZB,{children:"Add New Team Member"}),(0,r.jsx)(i.BT,{children:"Adds a member to the team and pre-approves their email for registration."})]}),(0,r.jsx)(i.Wu,{children:(0,r.jsx)(ew,{onMemberAdded:u})})]}),(0,r.jsxs)(i.Zp,{children:[(0,r.jsxs)(i.aR,{children:[(0,r.jsx)(i.ZB,{children:"Manage All Members"}),(0,r.jsx)(i.BT,{children:"View all pre-approved members and manage roles for those who have registered."})]}),(0,r.jsx)(i.Wu,{children:c?(0,r.jsxs)("div",{className:"space-y-2 mt-4",children:[(0,r.jsx)(d.E,{className:"h-10 w-full"}),(0,r.jsx)(d.E,{className:"h-10 w-full"}),(0,r.jsx)(d.E,{className:"h-10 w-full"})]}):(0,r.jsxs)(M,{children:[(0,r.jsx)(J,{children:(0,r.jsxs)(z,{children:[(0,r.jsx)(U,{children:"Full Name"}),(0,r.jsx)(U,{children:"Email"}),(0,r.jsx)(U,{children:"Status"}),(0,r.jsx)(U,{children:"Account Role"}),(0,r.jsx)(U,{children:"Actions"})]})}),(0,r.jsx)(P,{children:s.map(e=>(0,r.jsxs)(z,{children:[(0,r.jsx)(Z,{children:e.fullName}),(0,r.jsx)(Z,{children:e.email}),(0,r.jsx)(Z,{children:e.registered?(0,r.jsx)(eC.E,{variant:"default",children:"Registered"}):(0,r.jsx)(eC.E,{variant:"secondary",children:"Not Registered"})}),(0,r.jsx)(Z,{children:e.registered&&e.uid?(0,r.jsxs)(eu,{value:e.role,onValueChange:s=>h(e.uid,s),disabled:c,children:[(0,r.jsx)(ex,{className:"w-[180px]",children:(0,r.jsx)(eh,{})}),(0,r.jsxs)(ef,{children:[(0,r.jsx)(eg,{value:"normal",children:"Normal"}),(0,r.jsx)(eg,{value:"core",children:"Core"}),(0,r.jsx)(eg,{value:"captain",children:"Captain"})]})]}):(0,r.jsx)("span",{className:"text-muted-foreground",children:"N/A"})}),(0,r.jsx)(Z,{children:(0,r.jsxs)(K,{onOpenChange:()=>n(""),children:[(0,r.jsx)(Q,{asChild:!0,children:(0,r.jsx)(j.$,{variant:"destructive",size:"sm",disabled:c||"captain"===e.role,children:"Remove"})}),(0,r.jsxs)(es,{children:[(0,r.jsxs)(et,{children:[(0,r.jsxs)(ea,{children:["Are you sure you want to remove ",e.fullName,"?"]}),(0,r.jsxs)(el,{children:["This will permanently delete their account (if registered) and remove them from the members list.",(0,r.jsx)(E.T,{placeholder:"Reason for removal...",className:"mt-4",value:l,onChange:e=>n(e.target.value)})]})]}),(0,r.jsxs)(er,{children:[(0,r.jsx)(ei,{children:"Cancel"}),(0,r.jsx)(en,{onClick:()=>x(e.uid,e.email),children:"Continue"})]})]})]})})]},e.email))})]})})]})]})}let eS=w.Ik({documentName:w.Yj().min(3,{message:"Document name must be at least 3 characters."}),description:w.Yj().optional(),file:w.Ie(e=>e instanceof File,"A file is required.")});function eR(){let{toast:e}=(0,v.dj)(),{user:s,userProfile:t}=(0,n.A)(),[l,i]=(0,a.useState)(!1),[d,c]=(0,a.useState)(0),o=(0,b.mN)({resolver:(0,y.u)(eS),defaultValues:{documentName:"",description:"",file:void 0}});async function m(r){if(!s||!t)return void e({title:"Error",description:"You must be logged in.",variant:"destructive"});if(!r.file)return void e({title:"Error",description:"Please select a file to upload.",variant:"destructive"});i(!0),c(0);try{let a=(0,ev.c7)(),l=(0,ev.KR)(a,"documents/".concat(Date.now(),"_").concat(r.file.name)),n=await (0,ev.D)(l,r.file),i=await (0,ev.qk)(n.ref);c(100),await (0,A.gS)((0,A.rJ)(C.db,"documents"),{documentName:r.documentName,description:r.description,fileName:r.file.name,fileUrl:i,uploaderName:t.fullName,uploaderUid:s.uid,createdAt:(0,A.O5)()}),e({title:"Success!",description:"Document has been uploaded."}),o.reset()}catch(s){console.error("Error uploading document: ",s),e({title:"Upload Failed",variant:"destructive"})}finally{i(!1)}}return(0,r.jsx)(R.lV,{...o,children:(0,r.jsxs)("form",{onSubmit:o.handleSubmit(m),className:"space-y-4",children:[(0,r.jsx)(R.zB,{control:o.control,name:"documentName",render:e=>{let{field:s}=e;return(0,r.jsxs)(R.eI,{children:[(0,r.jsx)(R.lR,{children:"Document Name"}),(0,r.jsx)(R.MJ,{children:(0,r.jsx)(f.p,{placeholder:"e.g., Project Proposal, Budget Report",...s})}),(0,r.jsx)(R.C5,{})]})}}),(0,r.jsx)(R.zB,{control:o.control,name:"description",render:e=>{let{field:s}=e;return(0,r.jsxs)(R.eI,{children:[(0,r.jsx)(R.lR,{children:"Description (Optional)"}),(0,r.jsx)(R.MJ,{children:(0,r.jsx)(E.T,{placeholder:"A brief description of the document's content.",...s})}),(0,r.jsx)(R.C5,{})]})}}),(0,r.jsx)(R.zB,{control:o.control,name:"file",render:e=>{let{field:s}=e;return(0,r.jsxs)(R.eI,{children:[(0,r.jsx)(R.lR,{children:"File"}),(0,r.jsx)(R.MJ,{children:(0,r.jsx)(f.p,{type:"file",onChange:e=>{s.onChange(e.target.files?e.target.files[0]:void 0)}})}),(0,r.jsx)(R.C5,{})]})}}),l&&(0,r.jsx)(eb,{value:d,className:"w-full"}),(0,r.jsx)(j.$,{type:"submit",disabled:l,children:l?"Uploading...":"Upload Document"})]})})}var eE=t(8718),ek=t(6874),eI=t.n(ek);function eT(){let[e,s]=a.useState([]),[t,l]=a.useState(!0);return a.useEffect(()=>{(async()=>{try{let e=(0,A.P)((0,A.rJ)(C.db,"documents"),(0,A.My)("createdAt","desc")),t=(await (0,A.GG)(e)).docs.map(e=>({id:e.id,...e.data()}));s(t)}catch(e){console.error("Error fetching documents:",e)}finally{l(!1)}})()},[]),(0,r.jsxs)(i.Zp,{children:[(0,r.jsxs)(i.aR,{children:[(0,r.jsx)(i.ZB,{children:"Document Log"}),(0,r.jsx)(i.BT,{children:"View and download shared club documents."})]}),(0,r.jsx)(i.Wu,{children:t?(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(d.E,{className:"h-10 w-full"}),(0,r.jsx)(d.E,{className:"h-10 w-full"})]}):(0,r.jsxs)(M,{children:[(0,r.jsx)(J,{children:(0,r.jsxs)(z,{children:[(0,r.jsx)(U,{children:"Name"}),(0,r.jsx)(U,{children:"Description"}),(0,r.jsx)(U,{children:"Uploaded By"}),(0,r.jsx)(U,{children:"Date"}),(0,r.jsx)(U,{className:"text-right",children:"Action"})]})}),(0,r.jsx)(P,{children:e.length>0?e.map(e=>(0,r.jsxs)(z,{children:[(0,r.jsx)(Z,{className:"font-medium",children:e.documentName}),(0,r.jsx)(Z,{children:e.description||"-"}),(0,r.jsx)(Z,{children:e.uploaderName}),(0,r.jsx)(Z,{children:e.createdAt?(0,F.GP)(new Date(1e3*e.createdAt.seconds),"PPP"):"-"}),(0,r.jsx)(Z,{className:"text-right",children:(0,r.jsx)(j.$,{asChild:!0,variant:"outline",size:"sm",children:(0,r.jsxs)(eI(),{href:e.fileUrl,target:"_blank",rel:"noopener noreferrer",children:[(0,r.jsx)(eE.A,{className:"mr-2 h-4 w-4"})," Download"]})})})]},e.id)):(0,r.jsx)(z,{children:(0,r.jsx)(Z,{colSpan:5,className:"h-24 text-center",children:"No documents found."})})})]})})]})}let eB=w.Ik({sortId:w.au.number().min(1,"Sort ID is required."),title:w.Yj().min(3,{message:"Title must be at least 3 characters."}),date:w.Yj().min(3,{message:"Date is required."}),rank:w.Yj().optional(),description:w.Yj().min(10,{message:"Description must be at least 10 characters."}),imageFile:w.Ie(e=>e instanceof File,"An image file is required.")});function eD(e){let{onAchievementAdded:s}=e,{toast:t}=(0,v.dj)(),{user:l}=(0,n.A)(),[i,d]=(0,a.useState)(!1),c=(0,b.mN)({resolver:(0,y.u)(eB),defaultValues:{sortId:1,title:"",date:"",rank:"",description:"",imageFile:void 0}});async function o(e){if(l&&e.imageFile){d(!0);try{let r=(0,ev.KR)(C.IG,"achievements/".concat(Date.now(),"_").concat(e.imageFile.name)),a=await (0,ev.D)(r,e.imageFile),n=await (0,ev.qk)(a.ref);await (0,A.gS)((0,A.rJ)(C.db,"achievements"),{sortId:e.sortId,title:e.title,date:e.date,rank:e.rank,description:e.description,imageUrl:n,createdAt:(0,A.O5)(),uploaderUid:l.uid}),t({title:"Success!",description:"Achievement has been added."}),c.reset(),s&&s()}catch(e){console.error("Error adding achievement: ",e),t({title:"Upload Failed",variant:"destructive"})}finally{d(!1)}}}return(0,r.jsx)(R.lV,{...c,children:(0,r.jsxs)("form",{onSubmit:c.handleSubmit(o),className:"space-y-4",children:[(0,r.jsx)(R.zB,{control:c.control,name:"sortId",render:e=>{let{field:s}=e;return(0,r.jsxs)(R.eI,{children:[(0,r.jsx)(R.lR,{children:"Sort ID (e.g., 1, 2, 3)"}),(0,r.jsx)(R.MJ,{children:(0,r.jsx)(f.p,{type:"number",...s})}),(0,r.jsx)(R.C5,{})]})}}),(0,r.jsx)(R.zB,{control:c.control,name:"title",render:e=>{let{field:s}=e;return(0,r.jsxs)(R.eI,{children:[(0,r.jsx)(R.lR,{children:"Title"}),(0,r.jsx)(R.MJ,{children:(0,r.jsx)(f.p,{placeholder:"SAE Aero Design 2024",...s})}),(0,r.jsx)(R.C5,{})]})}}),(0,r.jsx)(R.zB,{control:c.control,name:"date",render:e=>{let{field:s}=e;return(0,r.jsxs)(R.eI,{children:[(0,r.jsx)(R.lR,{children:"Date"}),(0,r.jsx)(R.MJ,{children:(0,r.jsx)(f.p,{placeholder:"March 2024",...s})}),(0,r.jsx)(R.C5,{})]})}}),(0,r.jsx)(R.zB,{control:c.control,name:"rank",render:e=>{let{field:s}=e;return(0,r.jsxs)(R.eI,{children:[(0,r.jsx)(R.lR,{children:"Rank/Award (Optional)"}),(0,r.jsx)(R.MJ,{children:(0,r.jsx)(f.p,{placeholder:"1st Place",...s})}),(0,r.jsx)(R.C5,{})]})}}),(0,r.jsx)(R.zB,{control:c.control,name:"description",render:e=>{let{field:s}=e;return(0,r.jsxs)(R.eI,{children:[(0,r.jsx)(R.lR,{children:"Description"}),(0,r.jsx)(R.MJ,{children:(0,r.jsx)(E.T,{placeholder:"A brief summary...",...s})}),(0,r.jsx)(R.C5,{})]})}}),(0,r.jsx)(R.zB,{control:c.control,name:"imageFile",render:e=>{let{field:s}=e;return(0,r.jsxs)(R.eI,{children:[(0,r.jsx)(R.lR,{children:"Image"}),(0,r.jsx)(R.MJ,{children:(0,r.jsx)(f.p,{type:"file",accept:"image/png, image/jpeg, image/webp",onChange:e=>{var t;return s.onChange(null==(t=e.target.files)?void 0:t[0])}})}),(0,r.jsx)(R.C5,{})]})}}),(0,r.jsx)(j.$,{type:"submit",disabled:i,children:i?"Uploading...":"Add Achievement"})]})})}var eF=t(6766);function eM(){let[e,s]=a.useState([]),[t,l]=a.useState(!0),[n,c]=a.useState(!1),[o,m]=a.useState(null),[u,h]=a.useState(!1),[x,v]=a.useState(null),[N,b]=a.useState({title:"",date:"",rank:""}),[y,w]=a.useState(!1);a.useEffect(()=>{(async()=>{try{let e=(0,A.P)((0,A.rJ)(C.db,"achievements"),(0,A.My)("sortId","asc")),t=(await (0,A.GG)(e)).docs.map(e=>({id:e.id,...e.data()}));s(t)}catch(e){console.error("Error fetching achievements:",e)}finally{l(!1)}})()},[]);let S=async()=>{if(o)try{await (0,A.kd)((0,A.H9)(C.db,"achievements",o.id)),s(e=>e.filter(e=>e.id!==o.id))}catch(e){console.error("Error deleting item:",e)}finally{m(null),c(!1)}},R=e=>{let{name:s,value:t}=e.target;b(e=>({...e,[s]:t}))},E=async e=>{if(e.preventDefault(),!x)return;w(!0);let t=(0,A.H9)(C.db,"achievements",x.id);try{await (0,A.mZ)(t,{...N}),s(e=>e.map(e=>e.id===x.id?{...e,...N}:e)),h(!1),v(null)}catch(e){console.error("Error updating document: ",e)}finally{w(!1)}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(i.Zp,{children:[(0,r.jsxs)(i.aR,{children:[(0,r.jsx)(i.ZB,{children:"Existing Achievements"}),(0,r.jsx)(i.BT,{children:"A list of all recorded club achievements."})]}),(0,r.jsx)(i.Wu,{children:t?(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(d.E,{className:"h-12 w-full"}),(0,r.jsx)(d.E,{className:"h-12 w-full"})]}):(0,r.jsxs)(M,{children:[(0,r.jsx)(J,{children:(0,r.jsxs)(z,{children:[(0,r.jsx)(U,{children:"Image"}),(0,r.jsx)(U,{children:"Title"}),(0,r.jsx)(U,{children:"Date"}),(0,r.jsx)(U,{children:"Rank/Award"}),(0,r.jsx)(U,{className:"text-right",children:"Actions"})]})}),(0,r.jsx)(P,{children:e.length>0?e.map(e=>(0,r.jsxs)(z,{children:[(0,r.jsx)(Z,{children:(0,r.jsx)(eF.default,{src:e.imageUrl,alt:e.title,width:64,height:64,className:"rounded-md object-cover h-16 w-16"})}),(0,r.jsx)(Z,{className:"font-medium",children:e.title}),(0,r.jsx)(Z,{children:e.date}),(0,r.jsx)(Z,{children:e.rank||"-"}),(0,r.jsx)(Z,{className:"text-right",children:(0,r.jsxs)(G,{children:[(0,r.jsx)(_,{asChild:!0,children:(0,r.jsxs)(j.$,{variant:"ghost",className:"h-8 w-8 p-0",children:[(0,r.jsx)("span",{className:"sr-only",children:"Open menu"}),(0,r.jsx)(T.A,{className:"h-4 w-4"})]})}),(0,r.jsxs)(Y,{align:"end",children:[(0,r.jsxs)(W,{onClick:()=>{v(e),b({title:e.title,date:e.date,rank:e.rank||""}),h(!0)},children:[(0,r.jsx)(B.A,{className:"mr-2 h-4 w-4"}),(0,r.jsx)("span",{children:"Edit"})]}),(0,r.jsxs)(W,{onClick:()=>{m(e),c(!0)},className:"text-red-600 focus:text-red-500",children:[(0,r.jsx)(D.A,{className:"mr-2 h-4 w-4"}),(0,r.jsx)("span",{children:"Delete"})]})]})]})})]},e.id)):(0,r.jsx)(z,{children:(0,r.jsx)(Z,{colSpan:5,className:"h-24 text-center",children:"No achievements found."})})})]})})]}),(0,r.jsx)(K,{open:n,onOpenChange:c,children:(0,r.jsxs)(es,{children:[(0,r.jsxs)(et,{children:[(0,r.jsx)(ea,{children:"Are you absolutely sure?"}),(0,r.jsxs)(el,{children:['This action cannot be undone. This will permanently delete the achievement titled "',(0,r.jsx)("b",{children:null==o?void 0:o.title}),'".']})]}),(0,r.jsxs)(er,{children:[(0,r.jsx)(ei,{onClick:()=>m(null),children:"Cancel"}),(0,r.jsx)(en,{onClick:S,className:"bg-red-600 hover:bg-red-700",children:"Continue"})]})]})}),(0,r.jsx)(p.lG,{open:u,onOpenChange:h,children:(0,r.jsxs)(p.Cf,{className:"sm:max-w-[425px]",children:[(0,r.jsxs)(p.c7,{children:[(0,r.jsx)(p.L3,{children:"Edit Achievement"}),(0,r.jsx)(p.rr,{children:"Make changes to your achievement here. Click save when you're done."})]}),(0,r.jsx)("form",{id:"edit-achievement-form",onSubmit:E,children:(0,r.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,r.jsx)(g.J,{htmlFor:"title",className:"text-right",children:"Title"}),(0,r.jsx)(f.p,{id:"title",name:"title",value:N.title,onChange:R,className:"col-span-3",required:!0})]}),(0,r.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,r.jsx)(g.J,{htmlFor:"date",className:"text-right",children:"Date"}),(0,r.jsx)(f.p,{id:"date",name:"date",type:"date",value:N.date,onChange:R,className:"col-span-3",required:!0})]}),(0,r.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,r.jsx)(g.J,{htmlFor:"rank",className:"text-right",children:"Rank/Award"}),(0,r.jsx)(f.p,{id:"rank",name:"rank",value:N.rank,onChange:R,className:"col-span-3",placeholder:"e.g., 1st Place (Optional)"})]})]})}),(0,r.jsx)(p.Es,{children:(0,r.jsx)(j.$,{type:"submit",form:"edit-achievement-form",disabled:y,children:y?"Saving...":"Save Changes"})})]})})]})}let eJ=w.Ik({title:w.Yj().min(3,"Title is required."),date:w.Yj().min(3,"Date is required."),location:w.Yj().min(3,"Location is required."),description:w.Yj().min(10,"Description is required."),registrationLink:w.Yj().url().optional().or(w.eu("")),imageFile:w.Ie(e=>e instanceof File,"An image file is required.")});function eP(e){let{onEventAdded:s}=e,{toast:t}=(0,v.dj)(),{user:l}=(0,n.A)(),[i,d]=(0,a.useState)(!1),c=(0,b.mN)({resolver:(0,y.u)(eJ),defaultValues:{title:"",date:"",location:"",description:"",registrationLink:"",imageFile:void 0}});async function o(e){if(l&&e.imageFile){d(!0);try{let r=(0,ev.KR)(C.IG,"events/".concat(Date.now(),"_").concat(e.imageFile.name)),a=await (0,ev.D)(r,e.imageFile),l=await (0,ev.qk)(a.ref);await (0,A.gS)((0,A.rJ)(C.db,"events"),{title:e.title,date:e.date,location:e.location,description:e.description,registrationLink:e.registrationLink,imageUrl:l,createdAt:(0,A.O5)()}),t({title:"Success!",description:"Event has been added."}),c.reset(),s&&s()}catch(e){console.error("Error adding event: ",e),t({title:"Upload Failed",variant:"destructive"})}finally{d(!1)}}}return(0,r.jsx)(R.lV,{...c,children:(0,r.jsxs)("form",{onSubmit:c.handleSubmit(o),className:"space-y-4",children:[(0,r.jsx)(R.zB,{control:c.control,name:"title",render:e=>{let{field:s}=e;return(0,r.jsxs)(R.eI,{children:[(0,r.jsx)(R.lR,{children:"Event Title"}),(0,r.jsx)(R.MJ,{children:(0,r.jsx)(f.p,{placeholder:"Annual Drone Workshop",...s})}),(0,r.jsx)(R.C5,{})]})}}),(0,r.jsx)(R.zB,{control:c.control,name:"date",render:e=>{let{field:s}=e;return(0,r.jsxs)(R.eI,{children:[(0,r.jsx)(R.lR,{children:"Event Date"}),(0,r.jsx)(R.MJ,{children:(0,r.jsx)(f.p,{placeholder:"e.g., September 25, 2025",...s})}),(0,r.jsx)(R.C5,{})]})}}),(0,r.jsx)(R.zB,{control:c.control,name:"location",render:e=>{let{field:s}=e;return(0,r.jsxs)(R.eI,{children:[(0,r.jsx)(R.lR,{children:"Location"}),(0,r.jsx)(R.MJ,{children:(0,r.jsx)(f.p,{placeholder:"SJEC Campus, Main Auditorium",...s})}),(0,r.jsx)(R.C5,{})]})}}),(0,r.jsx)(R.zB,{control:c.control,name:"description",render:e=>{let{field:s}=e;return(0,r.jsxs)(R.eI,{children:[(0,r.jsx)(R.lR,{children:"Description"}),(0,r.jsx)(R.MJ,{children:(0,r.jsx)(E.T,{placeholder:"Details about the event...",...s})}),(0,r.jsx)(R.C5,{})]})}}),(0,r.jsx)(R.zB,{control:c.control,name:"registrationLink",render:e=>{let{field:s}=e;return(0,r.jsxs)(R.eI,{children:[(0,r.jsx)(R.lR,{children:"Registration Link (Optional)"}),(0,r.jsx)(R.MJ,{children:(0,r.jsx)(f.p,{placeholder:"https://forms.gle/...",...s})}),(0,r.jsx)(R.C5,{})]})}}),(0,r.jsx)(R.zB,{control:c.control,name:"imageFile",render:e=>{let{field:s}=e;return(0,r.jsxs)(R.eI,{children:[(0,r.jsx)(R.lR,{children:"Image"}),(0,r.jsx)(R.MJ,{children:(0,r.jsx)(f.p,{type:"file",accept:"image/png, image/jpeg, image/webp",onChange:e=>{var t;return s.onChange(null==(t=e.target.files)?void 0:t[0])}})}),(0,r.jsx)(R.C5,{})]})}}),(0,r.jsx)(j.$,{type:"submit",disabled:i,children:i?"Uploading...":"Add Event"})]})})}function ez(){let[e,s]=a.useState([]),[t,l]=a.useState(!0),[n,c]=a.useState(!1),[o,m]=a.useState(null),[u,h]=a.useState(!1),[x,v]=a.useState(null),[N,b]=a.useState({title:"",location:"",date:""}),[y,w]=a.useState(!1);a.useEffect(()=>{(async()=>{try{let e=(0,A.P)((0,A.rJ)(C.db,"events"),(0,A.My)("createdAt","desc")),t=(await (0,A.GG)(e)).docs.map(e=>({id:e.id,...e.data()}));s(t)}catch(e){console.error("Error fetching events:",e)}finally{l(!1)}})()},[]);let S=async()=>{if(o)try{await (0,A.kd)((0,A.H9)(C.db,"events",o.id)),s(e=>e.filter(e=>e.id!==o.id))}catch(e){console.error("Error deleting item:",e)}finally{m(null),c(!1)}},R=e=>{let{name:s,value:t}=e.target;b(e=>({...e,[s]:t}))},E=async e=>{if(e.preventDefault(),!x)return;w(!0);let t=(0,A.H9)(C.db,"events",x.id);try{await (0,A.mZ)(t,{...N}),s(e=>e.map(e=>e.id===x.id?{...e,...N}:e)),h(!1),v(null)}catch(e){console.error("Error updating document: ",e)}finally{w(!1)}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(i.Zp,{children:[(0,r.jsxs)(i.aR,{children:[(0,r.jsx)(i.ZB,{children:"Existing Events"}),(0,r.jsx)(i.BT,{children:"A list of past and upcoming club events."})]}),(0,r.jsx)(i.Wu,{children:t?(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(d.E,{className:"h-12 w-full"}),(0,r.jsx)(d.E,{className:"h-12 w-full"})]}):(0,r.jsxs)(M,{children:[(0,r.jsx)(J,{children:(0,r.jsxs)(z,{children:[(0,r.jsx)(U,{children:"Image"}),(0,r.jsx)(U,{children:"Title"}),(0,r.jsx)(U,{children:"Date"}),(0,r.jsx)(U,{children:"Location"}),(0,r.jsx)(U,{className:"text-right",children:"Actions"})]})}),(0,r.jsx)(P,{children:e.length>0?e.map(e=>(0,r.jsxs)(z,{children:[(0,r.jsx)(Z,{children:(0,r.jsx)(eF.default,{src:e.imageUrl,alt:e.title,width:64,height:64,className:"rounded-md object-cover h-16 w-16"})}),(0,r.jsx)(Z,{className:"font-medium",children:e.title}),(0,r.jsx)(Z,{children:e.date}),(0,r.jsx)(Z,{children:e.location}),(0,r.jsx)(Z,{className:"text-right",children:(0,r.jsxs)(G,{children:[(0,r.jsx)(_,{asChild:!0,children:(0,r.jsxs)(j.$,{variant:"ghost",className:"h-8 w-8 p-0",children:[(0,r.jsx)("span",{className:"sr-only",children:"Open menu"}),(0,r.jsx)(T.A,{className:"h-4 w-4"})]})}),(0,r.jsxs)(Y,{align:"end",children:[(0,r.jsxs)(W,{onClick:()=>{v(e),b({title:e.title,location:e.location,date:e.date}),h(!0)},children:[(0,r.jsx)(B.A,{className:"mr-2 h-4 w-4"}),(0,r.jsx)("span",{children:"Edit"})]}),(0,r.jsxs)(W,{onClick:()=>{m(e),c(!0)},className:"text-red-600 focus:text-red-500",children:[(0,r.jsx)(D.A,{className:"mr-2 h-4 w-4"}),(0,r.jsx)("span",{children:"Delete"})]})]})]})})]},e.id)):(0,r.jsx)(z,{children:(0,r.jsx)(Z,{colSpan:5,className:"h-24 text-center",children:"No events found."})})})]})})]}),(0,r.jsx)(K,{open:n,onOpenChange:c,children:(0,r.jsxs)(es,{children:[(0,r.jsxs)(et,{children:[(0,r.jsx)(ea,{children:"Are you absolutely sure?"}),(0,r.jsxs)(el,{children:['This action cannot be undone. This will permanently delete the event titled "',(0,r.jsx)("b",{children:null==o?void 0:o.title}),'".']})]}),(0,r.jsxs)(er,{children:[(0,r.jsx)(ei,{onClick:()=>m(null),children:"Cancel"}),(0,r.jsx)(en,{onClick:S,className:"bg-red-600 hover:bg-red-700",children:"Continue"})]})]})}),(0,r.jsx)(p.lG,{open:u,onOpenChange:h,children:(0,r.jsxs)(p.Cf,{className:"sm:max-w-[425px]",children:[(0,r.jsxs)(p.c7,{children:[(0,r.jsx)(p.L3,{children:"Edit Event"}),(0,r.jsx)(p.rr,{children:"Make changes to your event here. Click save when you're done."})]}),(0,r.jsx)("form",{id:"edit-event-form",onSubmit:E,children:(0,r.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,r.jsx)(g.J,{htmlFor:"title",className:"text-right",children:"Title"}),(0,r.jsx)(f.p,{id:"title",name:"title",value:N.title,onChange:R,className:"col-span-3",required:!0})]}),(0,r.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,r.jsx)(g.J,{htmlFor:"date",className:"text-right",children:"Date"}),(0,r.jsx)(f.p,{id:"date",name:"date",type:"date",value:N.date,onChange:R,className:"col-span-3",required:!0})]}),(0,r.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,r.jsx)(g.J,{htmlFor:"location",className:"text-right",children:"Location"}),(0,r.jsx)(f.p,{id:"location",name:"location",value:N.location,onChange:R,className:"col-span-3",required:!0})]})]})}),(0,r.jsx)(p.Es,{children:(0,r.jsx)(j.$,{type:"submit",form:"edit-event-form",disabled:y,children:y?"Saving...":"Save Changes"})})]})})]})}let eU=w.Ik({sortId:w.au.number().min(1,"Sort ID is required."),title:w.Yj().min(3,"Title is required."),mediaType:w.k5(["image","video"],{required_error:"Media type is required."}),description:w.Yj().optional(),videoUrl:w.Yj().url().optional().or(w.eu("")),imageFile:w.Ie().refine(e=>e instanceof File,{message:"An image file for the thumbnail is required."})}).refine(e=>"video"!==e.mediaType||!!e.videoUrl,{message:"A YouTube/Vimeo URL is required for video types.",path:["videoUrl"]});function eZ(e){let{onItemAdded:s}=e,{toast:t}=(0,v.dj)(),{user:l}=(0,n.A)(),[i,d]=(0,a.useState)(!1),c=(0,b.mN)({resolver:(0,y.u)(eU),defaultValues:{sortId:100,title:"",mediaType:"image",description:"",videoUrl:"",imageFile:void 0}}),o=c.watch("mediaType");async function m(e){if(l&&e.imageFile){d(!0);try{let r=(0,ev.KR)(C.IG,"gallery/".concat(Date.now(),"_").concat(e.imageFile.name)),a=await (0,ev.D)(r,e.imageFile),l=await (0,ev.qk)(a.ref);await (0,A.gS)((0,A.rJ)(C.db,"gallery"),{sortId:e.sortId,title:e.title,mediaType:e.mediaType,description:e.description,imageUrl:l,videoUrl:"video"===e.mediaType?e.videoUrl:"",createdAt:(0,A.O5)()}),t({title:"Success!",description:"Gallery item has been added."}),c.reset(),s&&s()}catch(e){console.error("Error adding gallery item: ",e),t({title:"Upload Failed",variant:"destructive"})}finally{d(!1)}}}return(0,r.jsx)(R.lV,{...c,children:(0,r.jsxs)("form",{onSubmit:c.handleSubmit(m),className:"space-y-4",children:[(0,r.jsx)(R.zB,{control:c.control,name:"sortId",render:e=>{let{field:s}=e;return(0,r.jsxs)(R.eI,{children:[(0,r.jsx)(R.lR,{children:"Sort ID"}),(0,r.jsx)(R.MJ,{children:(0,r.jsx)(f.p,{type:"number",...s})}),(0,r.jsx)(R.C5,{})]})}}),(0,r.jsx)(R.zB,{control:c.control,name:"title",render:e=>{let{field:s}=e;return(0,r.jsxs)(R.eI,{children:[(0,r.jsx)(R.lR,{children:"Title"}),(0,r.jsx)(R.MJ,{children:(0,r.jsx)(f.p,{placeholder:"V-TOL Flight Test",...s})}),(0,r.jsx)(R.C5,{})]})}}),(0,r.jsx)(R.zB,{control:c.control,name:"mediaType",render:e=>{let{field:s}=e;return(0,r.jsxs)(R.eI,{children:[(0,r.jsx)(R.lR,{children:"Media Type"}),(0,r.jsxs)(eu,{onValueChange:s.onChange,defaultValue:s.value,children:[(0,r.jsx)(R.MJ,{children:(0,r.jsx)(ex,{children:(0,r.jsx)(eh,{})})}),(0,r.jsxs)(ef,{children:[(0,r.jsx)(eg,{value:"image",children:"Image"}),(0,r.jsx)(eg,{value:"video",children:"Video"})]})]}),(0,r.jsx)(R.C5,{})]})}}),"video"===o&&(0,r.jsx)(R.zB,{control:c.control,name:"videoUrl",render:e=>{let{field:s}=e;return(0,r.jsxs)(R.eI,{children:[(0,r.jsx)(R.lR,{children:"YouTube/Vimeo URL"}),(0,r.jsx)(R.MJ,{children:(0,r.jsx)(f.p,{placeholder:"https://www.youtube.com/watch?v=...",...s})}),(0,r.jsx)(R.C5,{})]})}}),(0,r.jsx)(R.zB,{control:c.control,name:"imageFile",render:e=>{let{field:s}=e;return(0,r.jsxs)(R.eI,{children:[(0,r.jsx)(R.lR,{children:"video"===o?"Thumbnail Image":"Image File"}),(0,r.jsx)(R.MJ,{children:(0,r.jsx)(f.p,{type:"file",accept:"image/png, image/jpeg, image/webp",onChange:e=>{var t;return s.onChange(null==(t=e.target.files)?void 0:t[0])}})}),(0,r.jsx)(R.C5,{})]})}}),(0,r.jsx)(R.zB,{control:c.control,name:"description",render:e=>{let{field:s}=e;return(0,r.jsxs)(R.eI,{children:[(0,r.jsx)(R.lR,{children:"Description (Optional)"}),(0,r.jsx)(R.MJ,{children:(0,r.jsx)(E.T,{placeholder:"A short caption...",...s})}),(0,r.jsx)(R.C5,{})]})}}),(0,r.jsx)(j.$,{type:"submit",disabled:i,children:i?"Uploading...":"Add Gallery Item"})]})})}function eL(){let[e,s]=a.useState([]),[t,l]=a.useState(!0),[n,c]=a.useState(!1),[o,m]=a.useState(null),[u,h]=a.useState(!1),[x,v]=a.useState(null),[N,b]=a.useState({title:""}),[y,w]=a.useState(!1);a.useEffect(()=>{(async()=>{try{let e=(0,A.P)((0,A.rJ)(C.db,"gallery"),(0,A.My)("sortId","asc")),t=(await (0,A.GG)(e)).docs.map(e=>({id:e.id,...e.data()}));s(t)}catch(e){console.error("Error fetching gallery items:",e)}finally{l(!1)}})()},[]);let S=async()=>{if(o)try{await (0,A.kd)((0,A.H9)(C.db,"gallery",o.id)),s(e=>e.filter(e=>e.id!==o.id))}catch(e){console.error("Error deleting item:",e)}finally{m(null),c(!1)}},R=async e=>{if(e.preventDefault(),!x)return;w(!0);let t=(0,A.H9)(C.db,"gallery",x.id);try{await (0,A.mZ)(t,{title:N.title}),s(e=>e.map(e=>e.id===x.id?{...e,title:N.title}:e)),h(!1),v(null)}catch(e){console.error("Error updating document: ",e)}finally{w(!1)}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(i.Zp,{children:[(0,r.jsxs)(i.aR,{children:[(0,r.jsx)(i.ZB,{children:"Existing Gallery Items"}),(0,r.jsx)(i.BT,{children:"A list of all items currently in the gallery."})]}),(0,r.jsx)(i.Wu,{children:t?(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(d.E,{className:"h-12 w-full"}),(0,r.jsx)(d.E,{className:"h-12 w-full"}),(0,r.jsx)(d.E,{className:"h-12 w-full"})]}):(0,r.jsxs)(M,{children:[(0,r.jsx)(J,{children:(0,r.jsxs)(z,{children:[(0,r.jsx)(U,{children:"Thumbnail"}),(0,r.jsx)(U,{children:"Title"}),(0,r.jsx)(U,{children:"Type"}),(0,r.jsx)(U,{className:"text-right",children:"Actions"})]})}),(0,r.jsx)(P,{children:e.length>0?e.map(e=>(0,r.jsxs)(z,{children:[(0,r.jsx)(Z,{children:(0,r.jsx)(eF.default,{src:e.imageUrl,alt:e.title,width:64,height:64,className:"rounded-md object-cover h-16 w-16"})}),(0,r.jsx)(Z,{className:"font-medium",children:e.title}),(0,r.jsx)(Z,{className:"capitalize",children:e.mediaType}),(0,r.jsx)(Z,{className:"text-right",children:(0,r.jsxs)(G,{children:[(0,r.jsx)(_,{asChild:!0,children:(0,r.jsxs)(j.$,{variant:"ghost",className:"h-8 w-8 p-0",children:[(0,r.jsx)("span",{className:"sr-only",children:"Open menu"}),(0,r.jsx)(T.A,{className:"h-4 w-4"})]})}),(0,r.jsxs)(Y,{align:"end",children:[(0,r.jsxs)(W,{onClick:()=>{v(e),b({title:e.title}),h(!0)},children:[(0,r.jsx)(B.A,{className:"mr-2 h-4 w-4"}),(0,r.jsx)("span",{children:"Edit"})]}),(0,r.jsxs)(W,{onClick:()=>{m(e),c(!0)},className:"text-red-600 focus:text-red-500",children:[(0,r.jsx)(D.A,{className:"mr-2 h-4 w-4"}),(0,r.jsx)("span",{children:"Delete"})]})]})]})})]},e.id)):(0,r.jsx)(z,{children:(0,r.jsx)(Z,{colSpan:4,className:"h-24 text-center",children:"No gallery items found."})})})]})})]}),(0,r.jsx)(K,{open:n,onOpenChange:c,children:(0,r.jsxs)(es,{children:[(0,r.jsxs)(et,{children:[(0,r.jsx)(ea,{children:"Are you absolutely sure?"}),(0,r.jsxs)(el,{children:['This action cannot be undone. This will permanently delete the gallery item titled "',(0,r.jsx)("b",{children:null==o?void 0:o.title}),'".']})]}),(0,r.jsxs)(er,{children:[(0,r.jsx)(ei,{onClick:()=>m(null),children:"Cancel"}),(0,r.jsx)(en,{onClick:S,className:"bg-red-600 hover:bg-red-700",children:"Continue"})]})]})}),(0,r.jsx)(p.lG,{open:u,onOpenChange:h,children:(0,r.jsxs)(p.Cf,{className:"sm:max-w-[425px]",children:[(0,r.jsxs)(p.c7,{children:[(0,r.jsx)(p.L3,{children:"Edit Gallery Item"}),(0,r.jsx)(p.rr,{children:"Make changes to your item here. Click save when you're done."})]}),(0,r.jsx)("form",{id:"edit-form",onSubmit:R,children:(0,r.jsx)("div",{className:"grid gap-4 py-4",children:(0,r.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,r.jsx)(g.J,{htmlFor:"title",className:"text-right",children:"Title"}),(0,r.jsx)(f.p,{id:"title",name:"title",value:N.title,onChange:e=>{let{name:s,value:t}=e.target;b(e=>({...e,[s]:t}))},className:"col-span-3",required:!0})]})})}),(0,r.jsx)(p.Es,{children:(0,r.jsx)(j.$,{type:"submit",form:"edit-form",disabled:y,children:y?"Saving...":"Save Changes"})})]})})]})}var eO=t(4884);let eq=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)(eO.bL,{className:(0,o.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...a,ref:s,children:(0,r.jsx)(eO.zi,{className:(0,o.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});function eV(){let[e,s]=a.useState(!1),[t,l]=a.useState(!0),{toast:n}=(0,v.dj)();a.useEffect(()=>{(async()=>{let e=(0,A.H9)(C.db,"settings","recruitment"),t=await (0,A.x7)(e);t.exists()&&s(t.data().active),l(!1)})()},[]);let c=async e=>{s(e);try{let s=(0,A.H9)(C.db,"settings","recruitment");await (0,A.BN)(s,{active:e}),n({title:"Success",description:"Recruitment is now ".concat(e?"OPEN":"CLOSED",".")})}catch(t){n({title:"Error",description:"Could not update the setting.",variant:"destructive"}),s(!e)}};return(0,r.jsxs)(i.Zp,{children:[(0,r.jsxs)(i.aR,{children:[(0,r.jsx)(i.ZB,{children:"Recruitment Status"}),(0,r.jsx)(i.BT,{children:'Enable this switch to open the "Join Us" form to the public.'})]}),(0,r.jsx)(i.Wu,{children:t?(0,r.jsx)(d.E,{className:"h-8 w-24"}):(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(eq,{id:"recruitment-toggle",checked:e,onCheckedChange:c,"aria-readonly":!0}),(0,r.jsx)(g.J,{htmlFor:"recruitment-toggle",className:"text-lg",children:e?"Open":"Closed"})]})})]})}function eG(e){let{collectionName:s,title:t,description:l,headers:n,showActions:c=!1,showDeleteAction:o=!1,orderByField:m,itemLimit:u=20}=e,[h,x]=a.useState([]),[p,f]=a.useState(!0),[g,N]=a.useState(null),[b,y]=a.useState(!1),[w,R]=a.useState(null),{toast:E}=(0,v.dj)();a.useEffect(()=>{f(!0);let e=(0,A.P)((0,A.rJ)(C.db,s),(0,A.AB)(u)),t=(0,A.aQ)(e,e=>{let s=e.docs.map(e=>({id:e.id,...e.data()}));m&&s.sort((e,s)=>{let t=e[m],r=s[m],a=t&&"number"==typeof t.seconds,l=r&&"number"==typeof r.seconds;return a&&!l?-1:!a&&l?1:a||l?r.seconds-t.seconds:0}),x(s),f(!1)},e=>{console.error("Error fetching ".concat(s,":"),e),f(!1)});return()=>t()},[s,m,u]);let k=async(e,s)=>{N(e.id);try{let t=(0,S.Qg)(C.Cn,"processRecruitment");await t({applicantEmail:e.email,applicantName:e.fullName,approved:s,docId:e.id}),E({title:"Applicant ".concat(s?"Approved":"Rejected"),description:"".concat(e.fullName,"'s application has been processed.")})}catch(e){console.error("Error processing application:",e),E({title:"Action Failed",description:"An error occurred. Please check the console.",variant:"destructive"})}finally{N(null)}},I=async()=>{if(w)try{await (0,A.kd)((0,A.H9)(C.db,s,w.id)),E({title:"Success",description:"Submission has been deleted."})}catch(e){console.error("Error deleting submission:",e),E({title:"Error",description:"Failed to delete submission.",variant:"destructive"})}finally{y(!1),R(null)}},B=c||o;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(i.Zp,{children:[(0,r.jsxs)(i.aR,{children:[(0,r.jsx)(i.ZB,{children:t}),(0,r.jsx)(i.BT,{children:l})]}),(0,r.jsx)(i.Wu,{children:p?(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(d.E,{className:"h-8 w-full"}),(0,r.jsx)(d.E,{className:"h-8 w-full"}),(0,r.jsx)(d.E,{className:"h-8 w-full"})]}):(0,r.jsxs)(M,{children:[(0,r.jsx)(J,{children:(0,r.jsxs)(z,{children:[n.map(e=>(0,r.jsx)(U,{children:(e=>{let s=e.replace(/([A-Z])/g," $1");return s.charAt(0).toUpperCase()+s.slice(1)})(e)},e)),B&&(0,r.jsx)(U,{className:"text-right",children:"Actions"})]})}),(0,r.jsx)(P,{children:h.length>0?h.map(e=>(0,r.jsxs)(z,{children:[n.map(s=>(0,r.jsx)(Z,{children:((e,s)=>{let t=e[s];return t?(s.toLowerCase().includes("at")||"timestamp"===s.toLowerCase())&&t&&"number"==typeof t.seconds?(0,F.GP)(new Date(1e3*t.seconds),"PPP"):t.toString():"-"})(e,s)},s)),B&&(0,r.jsx)(Z,{className:"text-right",children:(0,r.jsxs)(G,{children:[(0,r.jsx)(_,{asChild:!0,children:(0,r.jsxs)(j.$,{variant:"ghost",className:"h-8 w-8 p-0",children:[(0,r.jsx)("span",{className:"sr-only",children:"Open menu"}),(0,r.jsx)(T.A,{className:"h-4 w-4"})]})}),(0,r.jsxs)(Y,{align:"end",children:[c&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(W,{onClick:()=>k(e,!0),children:"Approve"}),(0,r.jsx)(W,{onClick:()=>k(e,!1),children:"Reject"})]}),o&&(0,r.jsxs)(r.Fragment,{children:[c&&(0,r.jsx)($,{}),(0,r.jsxs)(W,{className:"text-red-600 focus:text-red-500",onClick:()=>{R(e),y(!0)},children:[(0,r.jsx)(D.A,{className:"mr-2 h-4 w-4"})," Delete"]})]})]})]})})]},e.id)):(0,r.jsx)(z,{children:(0,r.jsx)(Z,{colSpan:n.length+ +!!B,className:"h-24 text-center",children:"No submissions found."})})})]})})]}),(0,r.jsx)(K,{open:b,onOpenChange:y,children:(0,r.jsxs)(es,{children:[(0,r.jsxs)(et,{children:[(0,r.jsx)(ea,{children:"Are you sure?"}),(0,r.jsxs)(el,{children:['This action cannot be undone. This will permanently delete the submission from "',(null==w?void 0:w.name)||(null==w?void 0:w.fullName),'".']})]}),(0,r.jsxs)(er,{children:[(0,r.jsx)(ei,{children:"Cancel"}),(0,r.jsx)(en,{onClick:I,className:"bg-red-600 hover:bg-red-700",children:"Continue"})]})]})})]})}eq.displayName=eO.bL.displayName;var e_=t(4084);function eY(e){let{collectionName:s,fileName:t,orderByField:a="submittedAt"}=e,{toast:l}=(0,v.dj)(),n=async()=>{l({title:"Exporting...",description:"Fetching data to export."});try{let e=(0,A.P)((0,A.rJ)(C.db,s),(0,A.My)(a,"desc")),r=(await (0,A.GG)(e)).docs.map(e=>e.data());if(0===r.length)return void l({title:"No Data",description:"There is no data to export.",variant:"destructive"});let n=await (0,e_.Vu)(r),i=new Blob([n],{type:"text/csv;charset=utf-8;"}),d=document.createElement("a"),c=URL.createObjectURL(i);d.setAttribute("href",c),d.setAttribute("download","".concat(t,".csv")),d.style.visibility="hidden",document.body.appendChild(d),d.click(),document.body.removeChild(d),l({title:"Export Successful!",description:"".concat(t,".csv has been downloaded.")})}catch(e){console.error("Error exporting ".concat(s,":"),e),l({title:"Export Failed",description:"Could not export the data. Please check console for missing index.",variant:"destructive"})}};return(0,r.jsxs)(j.$,{onClick:n,variant:"outline",size:"sm",children:[(0,r.jsx)(eE.A,{className:"mr-2 h-4 w-4"}),"Export as Excel (CSV)"]})}let eW=w.Ik({itemName:w.Yj().min(1,{message:"Item name is required."}),quantity:w.au.number().min(1,{message:"Quantity must be at least 1."}),condition:w.Yj().min(1,{message:"Condition is required."}),notes:w.Yj().optional()});function e$(){let{toast:e}=(0,v.dj)(),{user:s,userProfile:t}=(0,n.A)(),a=(0,b.mN)({resolver:(0,y.u)(eW),defaultValues:{itemName:"",quantity:1,condition:"Returned - Good",notes:""}});async function l(r){if(!s||!t)return void e({title:"Error",description:"You must be logged in to submit.",variant:"destructive"});try{await (0,A.gS)((0,A.rJ)(C.db,"materialLogs"),{...r,memberName:t.fullName,memberUid:s.uid,timestamp:(0,A.O5)()}),e({title:"Log Submitted!",description:"Your material usage has been recorded."}),a.reset()}catch(s){console.error("Error adding document: ",s),e({title:"Submission Failed",description:"Could not submit your log.",variant:"destructive"})}}return(0,r.jsx)(R.lV,{...a,children:(0,r.jsxs)("form",{onSubmit:a.handleSubmit(l),className:"space-y-4",children:[(0,r.jsx)(R.zB,{control:a.control,name:"itemName",render:e=>{let{field:s}=e;return(0,r.jsxs)(R.eI,{children:[(0,r.jsx)(R.lR,{children:"Item/Material Name"}),(0,r.jsx)(R.MJ,{children:(0,r.jsx)(f.p,{placeholder:"e.g., Propeller, Servo Motor",...s})}),(0,r.jsx)(R.C5,{})]})}}),(0,r.jsx)(R.zB,{control:a.control,name:"quantity",render:e=>{let{field:s}=e;return(0,r.jsxs)(R.eI,{children:[(0,r.jsx)(R.lR,{children:"Quantity Used"}),(0,r.jsx)(R.MJ,{children:(0,r.jsx)(f.p,{type:"number",...s})}),(0,r.jsx)(R.C5,{})]})}}),(0,r.jsx)(R.zB,{control:a.control,name:"condition",render:e=>{let{field:s}=e;return(0,r.jsxs)(R.eI,{children:[(0,r.jsx)(R.lR,{children:"Final Condition"}),(0,r.jsx)(R.MJ,{children:(0,r.jsx)(f.p,{placeholder:"e.g., Returned - Good, Damaged, Consumed",...s})}),(0,r.jsx)(R.C5,{})]})}}),(0,r.jsx)(R.zB,{control:a.control,name:"notes",render:e=>{let{field:s}=e;return(0,r.jsxs)(R.eI,{children:[(0,r.jsx)(R.lR,{children:"Notes (Optional)"}),(0,r.jsx)(R.MJ,{children:(0,r.jsx)(E.T,{placeholder:"Any additional details...",...s})}),(0,r.jsx)(R.C5,{})]})}}),(0,r.jsx)(j.$,{type:"submit",children:"Submit Log"})]})})}function eH(){let[e,s]=a.useState([]),[t,l]=a.useState(!0);return(a.useEffect(()=>{let e=(0,A.P)((0,A.rJ)(C.db,"announcements"),(0,A.My)("createdAt","desc"),(0,A.AB)(3)),t=(0,A.aQ)(e,e=>{s(e.docs.map(e=>({id:e.id,...e.data()}))),l(!1)},e=>{console.error("Error fetching real-time announcements:",e),l(!1)});return()=>t()},[]),t)?(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(d.E,{className:"h-4 w-3/4"}),(0,r.jsx)(d.E,{className:"h-4 w-1/2"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(d.E,{className:"h-4 w-3/4"}),(0,r.jsx)(d.E,{className:"h-4 w-1/2"})]})]}):0===e.length?(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"No recent activity."}):(0,r.jsx)("ul",{className:"space-y-4",children:e.map(e=>(0,r.jsxs)("li",{className:"border-l-2 border-primary pl-3",children:[(0,r.jsx)("p",{className:"font-semibold text-sm",children:e.title}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:e.createdAt?(0,F.GP)(new Date(1e3*e.createdAt.seconds),"PPP"):""})]},e.id))})}let eK=w.Ik({title:w.Yj().min(1,{message:"Project title is required."}),description:w.Yj().min(1,{message:"Project description is required."}),status:w.k5(["ongoing","completed"]),imageFile:w.Ie(e=>e instanceof File,"An image file is required.")});function eQ(e){let{onProjectAdded:s}=e,{toast:t}=(0,v.dj)(),[l,n]=(0,a.useState)(!1),[i,d]=(0,a.useState)(0),c=(0,b.mN)({resolver:(0,y.u)(eK),defaultValues:{title:"",description:"",status:"ongoing",imageFile:void 0}});async function o(e){n(!0),d(0);try{let r=(0,ev.KR)(C.IG,"project_images/".concat(Date.now(),"_").concat(e.imageFile.name)),a=await (0,ev.D)(r,e.imageFile);d(100);let l=await (0,ev.qk)(a.ref);await (0,A.gS)((0,A.rJ)(C.db,"projects"),{title:e.title,description:e.description,status:e.status,imageUrl:l,createdAt:(0,A.O5)()}),t({title:"Project Added Successfully!",description:"".concat(e.title," has been added.")}),c.reset(),s()}catch(e){console.error("Error adding new project:",e),t({title:"Error",description:"Could not add the new project.",variant:"destructive"})}finally{n(!1),d(0)}}return(0,r.jsx)(R.lV,{...c,children:(0,r.jsxs)("form",{onSubmit:c.handleSubmit(o),className:"space-y-4",children:[(0,r.jsx)(R.zB,{control:c.control,name:"title",render:e=>{let{field:s}=e;return(0,r.jsxs)(R.eI,{children:[(0,r.jsx)(R.lR,{children:"Project Title"}),(0,r.jsx)(R.MJ,{children:(0,r.jsx)(f.p,{placeholder:"Project Name",...s})}),(0,r.jsx)(R.C5,{})]})}}),(0,r.jsx)(R.zB,{control:c.control,name:"description",render:e=>{let{field:s}=e;return(0,r.jsxs)(R.eI,{children:[(0,r.jsx)(R.lR,{children:"Description"}),(0,r.jsx)(R.MJ,{children:(0,r.jsx)(E.T,{placeholder:"Describe the project...",...s})}),(0,r.jsx)(R.C5,{})]})}}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsx)(R.zB,{control:c.control,name:"status",render:e=>{let{field:s}=e;return(0,r.jsxs)(R.eI,{children:[(0,r.jsx)(R.lR,{children:"Status"}),(0,r.jsxs)(eu,{onValueChange:s.onChange,defaultValue:s.value,children:[(0,r.jsx)(R.MJ,{children:(0,r.jsx)(ex,{children:(0,r.jsx)(eh,{})})}),(0,r.jsxs)(ef,{children:[(0,r.jsx)(eg,{value:"ongoing",children:"Ongoing"}),(0,r.jsx)(eg,{value:"completed",children:"Completed"})]})]}),(0,r.jsx)(R.C5,{})]})}}),(0,r.jsx)(R.zB,{control:c.control,name:"imageFile",render:e=>{let{field:s}=e;return(0,r.jsxs)(R.eI,{children:[(0,r.jsx)(R.lR,{children:"Project Image"}),(0,r.jsx)(R.MJ,{children:(0,r.jsx)(f.p,{type:"file",accept:"image/png, image/jpeg, image/webp",onChange:e=>s.onChange(e.target.files?e.target.files[0]:void 0)})}),(0,r.jsx)(R.C5,{})]})}})]}),l&&(0,r.jsx)(eb,{value:i,className:"w-full"}),(0,r.jsx)(j.$,{type:"submit",disabled:l,children:l?"Adding Project...":"Add Project"})]})})}function eX(){let{toast:e}=(0,v.dj)(),[s,t]=a.useState([]),[l,n]=a.useState(!0),[c,o]=a.useState(null),m=a.useCallback(async()=>{n(!0);try{let e=(0,A.P)((0,A.rJ)(C.db,"projects"),(0,A.My)("createdAt","desc")),s=(await (0,A.GG)(e)).docs.map(e=>({id:e.id,...e.data()}));t(s)}catch(s){e({title:"Error",description:"Could not fetch projects.",variant:"destructive"})}finally{n(!1)}},[e]);a.useEffect(()=>{m()},[m]);let u=async s=>{try{await (0,A.kd)((0,A.H9)(C.db,"projects",s)),e({title:"Success",description:"Project deleted successfully."}),m()}catch(s){e({title:"Error",description:"Could not delete project.",variant:"destructive"})}},h=async s=>{if(s.preventDefault(),c)try{let s=(0,A.H9)(C.db,"projects",c.id);await (0,A.mZ)(s,{title:c.title,description:c.description,status:c.status}),e({title:"Success",description:"Project updated successfully."}),o(null),m()}catch(s){e({title:"Error",description:"Could not update project.",variant:"destructive"})}};return(0,r.jsxs)(i.Zp,{children:[(0,r.jsxs)(i.aR,{children:[(0,r.jsx)(i.ZB,{children:"Existing Projects"}),(0,r.jsx)(i.BT,{children:"View, edit, or delete ongoing and completed projects."})]}),(0,r.jsx)(i.Wu,{children:l?(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)(d.E,{className:"h-24 w-full"}),(0,r.jsx)(d.E,{className:"h-24 w-full"})]}):(0,r.jsx)("div",{className:"space-y-4",children:s.map(e=>(0,r.jsxs)("div",{className:"border p-4 rounded-lg flex flex-col md:flex-row gap-4 items-start",children:[(0,r.jsx)(eF.default,{src:e.imageUrl,alt:e.title,width:150,height:150,className:"rounded-md object-cover"}),(0,r.jsxs)("div",{className:"flex-grow",children:[(0,r.jsxs)("h3",{className:"font-bold text-lg",children:[e.title," ",(0,r.jsx)("span",{className:"text-sm font-medium ml-2 px-2 py-0.5 rounded-full ".concat("ongoing"===e.status?"bg-yellow-200 text-yellow-800":"bg-green-200 text-green-800"),children:e.status})]}),(0,r.jsx)("p",{className:"mt-2",children:e.description})]}),(0,r.jsxs)("div",{className:"flex gap-2 shrink-0",children:[(0,r.jsxs)(p.lG,{onOpenChange:e=>!e&&o(null),children:[(0,r.jsx)(p.zM,{asChild:!0,children:(0,r.jsx)(j.$,{variant:"outline",size:"sm",onClick:()=>o(e),children:"Edit"})}),(0,r.jsxs)(p.Cf,{children:[(0,r.jsx)(p.c7,{children:(0,r.jsx)(p.L3,{children:"Edit Project"})}),c&&(0,r.jsxs)("form",{onSubmit:h,className:"space-y-4",children:[(0,r.jsx)(f.p,{value:c.title,onChange:e=>o({...c,title:e.target.value})}),(0,r.jsx)(E.T,{value:c.description,onChange:e=>o({...c,description:e.target.value})}),(0,r.jsxs)(eu,{value:c.status,onValueChange:e=>o({...c,status:e}),children:[(0,r.jsx)(ex,{children:(0,r.jsx)(eh,{})}),(0,r.jsxs)(ef,{children:[(0,r.jsx)(eg,{value:"ongoing",children:"Ongoing"}),(0,r.jsx)(eg,{value:"completed",children:"Completed"})]})]}),(0,r.jsx)(j.$,{type:"submit",children:"Save Changes"})]})]})]}),(0,r.jsxs)(K,{children:[(0,r.jsx)(Q,{asChild:!0,children:(0,r.jsx)(j.$,{variant:"destructive",size:"sm",children:"Delete"})}),(0,r.jsxs)(es,{children:[(0,r.jsxs)(et,{children:[(0,r.jsx)(ea,{children:"Are you sure?"}),(0,r.jsx)(el,{children:"This action cannot be undone and will permanently delete this project."})]}),(0,r.jsxs)(er,{children:[(0,r.jsx)(ei,{children:"Cancel"}),(0,r.jsx)(en,{onClick:()=>u(e.id),children:"Delete"})]})]})]})]})]},e.id))})})]})}let e0=e=>{let{userProfile:s}=e,[t,l]=a.useState(!1);return(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsxs)("h2",{className:"text-2xl font-semibold",children:["Welcome, Captain ",s.fullName,"!"]}),(0,r.jsxs)("div",{className:"grid gap-8",children:[(0,r.jsx)(I,{}),(0,r.jsx)(ed,{})]}),(0,r.jsxs)(m,{defaultValue:"manageMembers",className:"w-full",children:[(0,r.jsxs)(u,{className:"grid w-full grid-cols-3",children:[(0,r.jsx)(h,{value:"manageMembers",children:"Member Administration"}),(0,r.jsx)(h,{value:"content",children:"Content Management"}),(0,r.jsx)(h,{value:"materials",children:"Materials"})]}),(0,r.jsx)(x,{value:"manageMembers",children:(0,r.jsxs)(i.Zp,{children:[(0,r.jsxs)(i.aR,{children:[(0,r.jsx)(i.ZB,{children:"Member Administration"}),(0,r.jsx)(i.BT,{children:"Add, remove, and manage club members."})]}),(0,r.jsx)(i.Wu,{children:(0,r.jsx)(eA,{})})]})}),(0,r.jsx)(x,{value:"content",children:(0,r.jsx)("div",{className:"space-y-6",children:(0,r.jsxs)(m,{defaultValue:"achievements",className:"w-full",children:[(0,r.jsxs)(u,{className:"grid w-full grid-cols-7",children:[(0,r.jsx)(h,{value:"projects",children:"Projects"}),(0,r.jsx)(h,{value:"achievements",children:"Achievements"}),(0,r.jsx)(h,{value:"events",children:"Events"}),(0,r.jsx)(h,{value:"gallery",children:"Gallery"}),(0,r.jsx)(h,{value:"documents",children:"Documents"}),(0,r.jsx)(h,{value:"recruitment",children:"Recruitment"}),(0,r.jsx)(h,{value:"contact",children:"Contact"})]}),(0,r.jsx)(x,{value:"projects",children:(0,r.jsxs)("div",{className:"grid gap-8 pt-4",children:[(0,r.jsxs)(i.Zp,{children:[(0,r.jsx)(i.aR,{children:(0,r.jsx)(i.ZB,{children:"Add New Project"})}),(0,r.jsx)(i.Wu,{className:"pt-6",children:(0,r.jsx)(eQ,{onProjectAdded:()=>l(e=>!e)})})]}),(0,r.jsx)(eX,{},t?"refresh":"initial")]})}),(0,r.jsx)(x,{value:"achievements",children:(0,r.jsxs)("div",{className:"grid gap-8 pt-4",children:[(0,r.jsxs)(i.Zp,{children:[(0,r.jsx)(i.aR,{children:(0,r.jsx)(i.ZB,{children:"Add New Achievement"})}),(0,r.jsx)(i.Wu,{className:"pt-6",children:(0,r.jsx)(eD,{})})]}),(0,r.jsx)(eM,{})]})}),(0,r.jsx)(x,{value:"events",children:(0,r.jsxs)("div",{className:"grid gap-8 pt-4",children:[(0,r.jsxs)(i.Zp,{children:[(0,r.jsx)(i.aR,{children:(0,r.jsx)(i.ZB,{children:"Add New Event"})}),(0,r.jsx)(i.Wu,{className:"pt-6",children:(0,r.jsx)(eP,{})})]}),(0,r.jsx)(ez,{})]})}),(0,r.jsx)(x,{value:"gallery",children:(0,r.jsxs)("div",{className:"grid gap-8 pt-4",children:[(0,r.jsxs)(i.Zp,{children:[(0,r.jsx)(i.aR,{children:(0,r.jsx)(i.ZB,{children:"Add to Gallery"})}),(0,r.jsx)(i.Wu,{className:"pt-6",children:(0,r.jsx)(eZ,{})})]}),(0,r.jsx)(eL,{})]})}),(0,r.jsx)(x,{value:"documents",children:(0,r.jsxs)("div",{className:"grid gap-8 pt-4",children:[(0,r.jsxs)(i.Zp,{children:[(0,r.jsx)(i.aR,{children:(0,r.jsx)(i.ZB,{children:"Upload Document"})}),(0,r.jsx)(i.Wu,{className:"pt-6",children:(0,r.jsx)(eR,{})})]}),(0,r.jsx)(eT,{})]})}),(0,r.jsx)(x,{value:"recruitment",children:(0,r.jsxs)("div",{className:"grid gap-8 pt-4",children:[(0,r.jsx)(eV,{}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"my-4",children:(0,r.jsx)(eY,{collectionName:"recruitment",fileName:"recruitment_responses",orderByField:"submittedAt"})}),(0,r.jsx)(eG,{collectionName:"recruitment",title:"Recruitment Applications",description:"Review new member applications.",headers:["fullName","email","yearOfStudy","branch","reason"],showActions:!0,showDeleteAction:!0,orderByField:"submittedAt",itemLimit:20})]})]})}),(0,r.jsx)(x,{value:"contact",children:(0,r.jsxs)("div",{className:"grid gap-8 pt-4",children:[(0,r.jsx)("div",{className:"my-4",children:(0,r.jsx)(eY,{collectionName:"contacts",fileName:"contact_submissions",orderByField:"submittedAt"})}),(0,r.jsx)(eG,{collectionName:"contacts",title:"Contact Form Submissions",description:"Inquiries sent via the website's contact form.",headers:["fullName","email","subject","message","submittedAt"],orderByField:"submittedAt",showActions:!1,showDeleteAction:!0,itemLimit:20})]})})]})})}),(0,r.jsx)(x,{value:"materials",children:(0,r.jsxs)("div",{className:"grid gap-8 pt-4",children:[(0,r.jsxs)(i.Zp,{children:[(0,r.jsxs)(i.aR,{children:[(0,r.jsx)(i.ZB,{children:"Log Material Usage"}),(0,r.jsx)(i.BT,{children:"Record items taken from or returned to the club inventory."})]}),(0,r.jsx)(i.Wu,{className:"pt-6",children:(0,r.jsx)(e$,{})})]}),(0,r.jsx)(eG,{collectionName:"materialLogs",title:"Material Usage Logs",description:"A record of all materials used by club members.",headers:["memberName","itemName","quantity","condition","notes","timestamp"],orderByField:"timestamp",showDeleteAction:!0,itemLimit:50})]})})]})]})},e1=e=>{let{userProfile:s}=e,[t,l]=a.useState(!1);return(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsxs)("h2",{className:"text-2xl font-semibold",children:["Welcome, ",s.fullName,"!"]}),(0,r.jsxs)("div",{className:"grid gap-8",children:[(0,r.jsx)(I,{}),(0,r.jsx)(ed,{})]}),(0,r.jsxs)(m,{defaultValue:"content",className:"w-full",children:[(0,r.jsxs)(u,{className:"grid w-full grid-cols-2",children:[(0,r.jsx)(h,{value:"content",children:"Content Management"}),(0,r.jsx)(h,{value:"materials",children:"Materials"})]}),(0,r.jsx)(x,{value:"content",children:(0,r.jsx)("div",{className:"space-y-6",children:(0,r.jsxs)(m,{defaultValue:"achievements",className:"w-full",children:[(0,r.jsxs)(u,{className:"grid w-full grid-cols-5",children:[(0,r.jsx)(h,{value:"projects",children:"Projects"}),(0,r.jsx)(h,{value:"achievements",children:"Achievements"}),(0,r.jsx)(h,{value:"events",children:"Events"}),(0,r.jsx)(h,{value:"gallery",children:"Gallery"}),(0,r.jsx)(h,{value:"documents",children:"Documents"})]}),(0,r.jsx)(x,{value:"projects",children:(0,r.jsxs)("div",{className:"grid gap-8 pt-4",children:[(0,r.jsxs)(i.Zp,{children:[(0,r.jsx)(i.aR,{children:(0,r.jsx)(i.ZB,{children:"Add New Project"})}),(0,r.jsx)(i.Wu,{className:"pt-6",children:(0,r.jsx)(eQ,{onProjectAdded:()=>l(e=>!e)})})]}),(0,r.jsx)(eX,{},t?"refresh":"initial")]})}),(0,r.jsx)(x,{value:"achievements",children:(0,r.jsxs)("div",{className:"grid gap-8 pt-4",children:[(0,r.jsxs)(i.Zp,{children:[(0,r.jsx)(i.aR,{children:(0,r.jsx)(i.ZB,{children:"Add New Achievement"})}),(0,r.jsx)(i.Wu,{className:"pt-6",children:(0,r.jsx)(eD,{})})]}),(0,r.jsx)(eM,{})]})}),(0,r.jsx)(x,{value:"events",children:(0,r.jsxs)("div",{className:"grid gap-8 pt-4",children:[(0,r.jsxs)(i.Zp,{children:[(0,r.jsx)(i.aR,{children:(0,r.jsx)(i.ZB,{children:"Add New Event"})}),(0,r.jsx)(i.Wu,{className:"pt-6",children:(0,r.jsx)(eP,{})})]}),(0,r.jsx)(ez,{})]})}),(0,r.jsx)(x,{value:"gallery",children:(0,r.jsxs)("div",{className:"grid gap-8 pt-4",children:[(0,r.jsxs)(i.Zp,{children:[(0,r.jsx)(i.aR,{children:(0,r.jsx)(i.ZB,{children:"Add to Gallery"})}),(0,r.jsx)(i.Wu,{className:"pt-6",children:(0,r.jsx)(eZ,{})})]}),(0,r.jsx)(eL,{})]})}),(0,r.jsx)(x,{value:"documents",children:(0,r.jsxs)("div",{className:"grid gap-8 pt-4",children:[(0,r.jsxs)(i.Zp,{children:[(0,r.jsx)(i.aR,{children:(0,r.jsx)(i.ZB,{children:"Upload Document"})}),(0,r.jsx)(i.Wu,{className:"pt-6",children:(0,r.jsx)(eR,{})})]}),(0,r.jsx)(eT,{})]})})]})})}),(0,r.jsx)(x,{value:"materials",children:(0,r.jsxs)("div",{className:"grid gap-8 pt-4",children:[(0,r.jsxs)(i.Zp,{children:[(0,r.jsxs)(i.aR,{children:[(0,r.jsx)(i.ZB,{children:"Log Material Usage"}),(0,r.jsx)(i.BT,{children:"Record items taken from or returned to the club inventory."})]}),(0,r.jsx)(i.Wu,{className:"pt-6",children:(0,r.jsx)(e$,{})})]}),(0,r.jsx)(eG,{collectionName:"materialLogs",title:"Material Usage Logs",description:"A record of all materials used by club members.",headers:["memberName","itemName","quantity","condition","notes","timestamp"],orderByField:"timestamp",showDeleteAction:!0,itemLimit:50})]})})]})]})},e5=e=>{let{userProfile:s}=e;return(0,r.jsxs)("div",{className:"grid md:grid-cols-2 gap-8",children:[(0,r.jsxs)(i.Zp,{children:[(0,r.jsxs)(i.aR,{children:[(0,r.jsxs)(i.ZB,{children:["Welcome, ",s.fullName,"!"]}),(0,r.jsx)(i.BT,{children:"Log your material usage here."})]}),(0,r.jsx)(i.Wu,{children:(0,r.jsx)(e$,{})})]}),(0,r.jsxs)(i.Zp,{children:[(0,r.jsxs)(i.aR,{children:[(0,r.jsx)(i.ZB,{children:"Recent Club Activity"}),(0,r.jsx)(i.BT,{children:"Stay up to date with the latest news."})]}),(0,r.jsx)(i.Wu,{children:(0,r.jsx)(eH,{})})]})]})};function e4(){let{user:e,userProfile:s,loading:t}=(0,n.A)(),i=(0,l.useRouter)(),[c,o]=a.useState(!1),[m,u]=a.useState(""),[h,x]=a.useState(""),b="/login";a.useEffect(()=>{t||e||i.push(b)},[e,t,i,b]);let y=async()=>{if(m!==h)return void(0,v.oR)({title:"Error",description:"Passwords do not match.",variant:"destructive"});if(m.length<6)return void(0,v.oR)({title:"Error",description:"Password must be at least 6 characters long.",variant:"destructive"});if(!e)return void(0,v.oR)({title:"Error",description:"You must be logged in to change your password.",variant:"destructive"});try{await (0,N.f3)(e,m),(0,v.oR)({title:"Success",description:"Your password has been updated successfully."}),o(!1),u(""),x("")}catch(e){console.error("Error updating password:",e),(0,v.oR)({title:"Error",description:"Could not update password. Please log out and log back in before trying again.",variant:"destructive"})}};return t||!s?(0,r.jsxs)("div",{className:"container py-12 px-4 md:px-6",children:[(0,r.jsx)(d.E,{className:"h-8 w-1/3 mx-auto mb-4"}),(0,r.jsx)(d.E,{className:"h-4 w-1/2 mx-auto mb-12"}),(0,r.jsx)(d.E,{className:"h-64 w-full"})]}):(0,r.jsxs)("div",{className:"container py-12 px-4 md:px-6",children:[(0,r.jsxs)("div",{className:"space-y-4 text-center mb-12",children:[(0,r.jsxs)("div",{className:"flex justify-center items-center relative",children:[(0,r.jsx)("h1",{className:"text-4xl font-bold font-headline tracking-tighter sm:text-5xl",children:"Member Dashboard"}),(0,r.jsx)(j.$,{onClick:()=>o(!0),className:"absolute right-0 top-1/2 -translate-y-1/2",children:"Change Password"})]}),(0,r.jsx)("p",{className:"max-w-[900px] mx-auto text-foreground/80 md:text-xl",children:"Your personal hub for all club activities."})]}),(()=>{switch(s.role){case"captain":return(0,r.jsx)(e0,{userProfile:s});case"core":return(0,r.jsx)(e1,{userProfile:s});case"normal":return(0,r.jsx)(e5,{userProfile:s});default:return(0,r.jsx)("p",{children:"Unknown role. Please contact an administrator."})}})(),(0,r.jsx)(p.lG,{open:c,onOpenChange:o,children:(0,r.jsxs)(p.Cf,{children:[(0,r.jsx)(p.c7,{children:(0,r.jsx)(p.L3,{children:"Change Your Password"})}),(0,r.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,r.jsx)(g.J,{htmlFor:"new-password",className:"text-right",children:"New Password"}),(0,r.jsx)(f.p,{id:"new-password",type:"password",value:m,onChange:e=>u(e.target.value),className:"col-span-3"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,r.jsx)(g.J,{htmlFor:"confirm-password",className:"text-right",children:"Confirm Password"}),(0,r.jsx)(f.p,{id:"confirm-password",type:"password",value:h,onChange:e=>x(e.target.value),className:"col-span-3"})]})]}),(0,r.jsx)(p.Es,{children:(0,r.jsx)(j.$,{onClick:y,children:"Save Changes"})})]})})]})}},6104:(e,s,t)=>{"use strict";t.d(s,{Cn:()=>m,IG:()=>u,db:()=>o,j2:()=>c});var r=t(3915),a=t(3004),l=t(5317),n=t(858),i=t(1427);let d=(0,r.Dk)().length?(0,r.Sx)():(0,r.Wp)({apiKey:"AIzaSyD_-MLWcpdSJVUSB2AqmO3JHs8nf_cRD44",authDomain:"sjecaero.firebaseapp.com",projectId:"sjecaero",storageBucket:"sjecaero.firebasestorage.app",messagingSenderId:"887440722897",appId:"1:887440722897:web:96d02e2e7c45ceb81c2ef0"}),c=(0,a.xI)(d),o=(0,l.aU)(d),m=(0,i.Uz)(d),u=(0,n.c7)(d)},6126:(e,s,t)=>{"use strict";t.d(s,{E:()=>i});var r=t(5155);t(2115);var a=t(2085),l=t(9434);let n=(0,a.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:s,variant:t,...a}=e;return(0,r.jsx)("div",{className:(0,l.cn)(n({variant:t}),s),...a})}},6695:(e,s,t)=>{"use strict";t.d(s,{BT:()=>c,Wu:()=>o,ZB:()=>d,Zp:()=>n,aR:()=>i});var r=t(5155),a=t(2115),l=t(9434);let n=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...a})});n.displayName="Card";let i=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",t),...a})});i.displayName="CardHeader";let d=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("h3",{ref:s,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",t),...a})});d.displayName="CardTitle";let c=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("p",{ref:s,className:(0,l.cn)("text-sm text-muted-foreground",t),...a})});c.displayName="CardDescription";let o=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,l.cn)("p-6 pt-0",t),...a})});o.displayName="CardContent",a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,l.cn)("flex items-center p-6 pt-0",t),...a})}).displayName="CardFooter"},7481:(e,s,t)=>{"use strict";t.d(s,{dj:()=>m,oR:()=>o});var r=t(2115);let a=0,l=new Map,n=e=>{if(l.has(e))return;let s=setTimeout(()=>{l.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);l.set(e,s)},i=[],d={toasts:[]};function c(e){d=((e,s)=>{switch(s.type){case"ADD_TOAST":return{...e,toasts:[s.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===s.toast.id?{...e,...s.toast}:e)};case"DISMISS_TOAST":{let{toastId:t}=s;return t?n(t):e.toasts.forEach(e=>{n(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===t||void 0===t?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===s.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==s.toastId)}}})(d,e),i.forEach(e=>{e(d)})}function o(e){let{...s}=e,t=(a=(a+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>c({type:"DISMISS_TOAST",toastId:t});return c({type:"ADD_TOAST",toast:{...s,id:t,open:!0,onOpenChange:e=>{e||r()}}}),{id:t,dismiss:r,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function m(){let[e,s]=r.useState(d);return r.useEffect(()=>(i.push(s),()=>{let e=i.indexOf(s);e>-1&&i.splice(e,1)}),[e]),{...e,toast:o,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},7759:(e,s,t)=>{"use strict";t.d(s,{C5:()=>f,MJ:()=>p,eI:()=>x,lR:()=>j,lV:()=>c,zB:()=>m});var r=t(5155),a=t(2115),l=t(4253),n=t(2177),i=t(9434),d=t(5057);let c=n.Op,o=a.createContext({}),m=e=>{let{...s}=e;return(0,r.jsx)(o.Provider,{value:{name:s.name},children:(0,r.jsx)(n.xI,{...s})})},u=()=>{let e=a.useContext(o),s=a.useContext(h),{getFieldState:t,formState:r}=(0,n.xW)(),l=t(e.name,r);if(!e)throw Error("useFormField should be used within <FormField>");let{id:i}=s;return{id:i,name:e.name,formItemId:"".concat(i,"-form-item"),formDescriptionId:"".concat(i,"-form-item-description"),formMessageId:"".concat(i,"-form-item-message"),...l}},h=a.createContext({}),x=a.forwardRef((e,s)=>{let{className:t,...l}=e,n=a.useId();return(0,r.jsx)(h.Provider,{value:{id:n},children:(0,r.jsx)("div",{ref:s,className:(0,i.cn)("space-y-2",t),...l})})});x.displayName="FormItem";let j=a.forwardRef((e,s)=>{let{className:t,...a}=e,{error:l,formItemId:n}=u();return(0,r.jsx)(d.J,{ref:s,className:(0,i.cn)(l&&"text-destructive",t),htmlFor:n,...a})});j.displayName="FormLabel";let p=a.forwardRef((e,s)=>{let{...t}=e,{error:a,formItemId:n,formDescriptionId:i,formMessageId:d}=u();return(0,r.jsx)(l.DX,{ref:s,id:n,"aria-describedby":a?"".concat(i," ").concat(d):"".concat(i),"aria-invalid":!!a,...t})});p.displayName="FormControl",a.forwardRef((e,s)=>{let{className:t,...a}=e,{formDescriptionId:l}=u();return(0,r.jsx)("p",{ref:s,id:l,className:(0,i.cn)("text-sm text-muted-foreground",t),...a})}).displayName="FormDescription";let f=a.forwardRef((e,s)=>{var t;let{className:a,children:l,...n}=e,{error:d,formMessageId:c}=u(),o=d?String(null!=(t=null==d?void 0:d.message)?t:""):l;return o?(0,r.jsx)("p",{ref:s,id:c,className:(0,i.cn)("text-sm font-medium text-destructive",a),...n,children:o}):null});f.displayName="FormMessage"},8539:(e,s,t)=>{"use strict";t.d(s,{T:()=>n});var r=t(5155),a=t(2115),l=t(9434);let n=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("textarea",{className:(0,l.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:s,...a})});n.displayName="Textarea"},8856:(e,s,t)=>{"use strict";t.d(s,{E:()=>l});var r=t(5155),a=t(9434);function l(e){let{className:s,...t}=e;return(0,r.jsx)("div",{className:(0,a.cn)("animate-pulse rounded-md bg-muted",s),...t})}},8904:(e,s,t)=>{Promise.resolve().then(t.bind(t,5198))},9434:(e,s,t)=>{"use strict";t.d(s,{cn:()=>l});var r=t(2596),a=t(9688);function l(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,a.QP)((0,r.$)(s))}},9576:(e,s,t)=>{"use strict";t.d(s,{A:()=>m,AuthProvider:()=>o});var r=t(5155),a=t(2115),l=t(3004),n=t(5317),i=t(6104),d=t(6766);let c=a.createContext(void 0);function o(e){let{children:s}=e,[t,o]=a.useState(null),[m,u]=a.useState(null),[h,x]=a.useState(!0),j="normal",p="https://firebasestorage.googleapis.com/v0/b/sjecaero.firebasestorage.app/o/logos%2Flogo.png?alt=media&token=6a260d08-80d9-4032-85e3-b4b7f7b1817b";return(a.useEffect(()=>{let e=(0,l.hg)(i.j2,async e=>{if(e){let s=(0,n.H9)(i.db,"users",e.uid),t=await (0,n.x7)(s);if(t.exists())u(t.data());else{let t={uid:e.uid,email:e.email,fullName:e.displayName||"New Member",role:j};await (0,n.BN)(s,t),u(t)}o(e)}else o(null),u(null);setTimeout(()=>x(!1),500)});return()=>e()},[j]),h)?(0,r.jsx)("div",{className:"flex items-center justify-center h-screen bg-background",children:(0,r.jsxs)("div",{className:"relative flex items-center justify-center",children:[(0,r.jsx)("div",{className:"spinner"}),p&&(0,r.jsx)(d.default,{src:p,alt:"SJECAero Logo",width:80,height:80,className:"rounded-full",priority:!0})]})}):(0,r.jsx)(c.Provider,{value:{user:t,userProfile:m,loading:h},children:s})}function m(){let e=a.useContext(c);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}}},e=>{e.O(0,[992,138,90,838,378,521,722,184,950,441,964,358],()=>e(e.s=8904)),_N_E=e.O()}]);